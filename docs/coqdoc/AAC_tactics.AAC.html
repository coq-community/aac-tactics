<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="comment">(*&nbsp;***********************************************************************&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;This&nbsp;is&nbsp;part&nbsp;of&nbsp;aac_tactics,&nbsp;it&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GNU&nbsp;Lesser&nbsp;General&nbsp;Public&nbsp;License&nbsp;version&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(see&nbsp;file&nbsp;LICENSE&nbsp;for&nbsp;more&nbsp;details)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;2009-2010:&nbsp;Thomas&nbsp;Braibant,&nbsp;Damien&nbsp;Pous.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;***********************************************************************&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">Theory for AAC Tactics</h1>


<div class="paragraph"> </div>

   We define several base classes to package associative and possibly
   commutative/idempotent operators, and define a data-type for reified
   (or quoted) expressions (with morphisms).

<div class="paragraph"> </div>

   We then define a reflexive decision procedure to decide the
   equality of reified terms: first normalise reified terms, then
   compare them. This allows us to close transitivity steps
   automatically, in the <span class="inlinecode"><span class="id" title="var">aac_rewrite</span></span> tactic.

<div class="paragraph"> </div>

   We restrict ourselves to the case where all symbols operate on a
   single fixed type. In particular, this means that we cannot handle
   situations like  

<div class="paragraph"> </div>

   <span class="inlinecode"><a class="idref" href="AAC_tactics.Caveats.html#Z.H"><span class="id" title="variable">H</span></a>:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y</span>,</span> <span class="inlinecode"><span class="id" title="var">nat_of_pos</span></span> <span class="inlinecode">(<span class="id" title="var">pos_of_nat</span></span> <span class="inlinecode">(<span class="id" title="var">x</span>)</span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">y</span>)</span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode">...</span>

<div class="paragraph"> </div>

   where one occurrence of <code>+</code> operates on <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a></span> while the other one
   operates on <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Arith</span> <span class="id" title="library">NArith</span> <span class="id" title="library">List</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">FMapPositive</span> <span class="id" title="library">Relations</span> <span class="id" title="library">RelationClasses</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">Morphisms</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">AAC_tactics</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="AAC_tactics.Utils.html#"><span class="id" title="library">Utils</span></a> <a class="idref" href="AAC_tactics.Constants.html#"><span class="id" title="library">Constants</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Asymmetric</span> <span class="id" title="var">Patterns</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">signature_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h2 class="section">Environments for the reification process</h2>

<div class="paragraph"> </div>

 Positive maps are used to index elements 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="sigma" class="idref" href="#sigma"><span class="id" title="section">sigma</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sigma" class="idref" href="#sigma"><span class="id" title="definition">sigma</span></a> := <span class="id" title="definition">PositiveMap.t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sigma_get" class="idref" href="#sigma_get"><span class="id" title="definition">sigma_get</span></a> <a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> (<a id="null:2" class="idref" href="#null:2"><span class="id" title="binder">null</span></a> : <a class="idref" href="AAC_tactics.AAC.html#A:1"><span class="id" title="variable">A</span></a>) (<a id="map:3" class="idref" href="#map:3"><span class="id" title="binder">map</span></a> : <a class="idref" href="AAC_tactics.AAC.html#sigma"><span class="id" title="definition">sigma</span></a> <a class="idref" href="AAC_tactics.AAC.html#A:1"><span class="id" title="variable">A</span></a>) (<a id="n:4" class="idref" href="#n:4"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) : <a class="idref" href="AAC_tactics.AAC.html#A:1"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">PositiveMap.find</span> <a class="idref" href="AAC_tactics.AAC.html#n:4"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#map:3"><span class="id" title="variable">map</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#null:2"><span class="id" title="variable">null</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sigma_add" class="idref" href="#sigma_add"><span class="id" title="definition">sigma_add</span></a> := @<span class="id" title="definition">PositiveMap.add</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sigma_empty" class="idref" href="#sigma_empty"><span class="id" title="definition">sigma_empty</span></a> := @<span class="id" title="definition">PositiveMap.empty</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">sigma_get</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.sigma.get</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">sigma_add</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.sigma.add</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">sigma_empty</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.sigma.empty</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#sigma"><span class="id" title="section">sigma</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h2 class="section">Classes for properties of operators</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="Associative" class="idref" href="#Associative"><span class="id" title="inductive, record"><span id="Associative" class="id">Associative</span></span></a> (<a id="X:5" class="idref" href="#X:5"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="R:6" class="idref" href="#R:6"><span class="id" title="binder">R</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:5"><span class="id" title="variable">X</span></a>) (<a id="dot:7" class="idref" href="#dot:7"><span class="id" title="binder">dot</span></a> : <a class="idref" href="AAC_tactics.AAC.html#X:5"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:5"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:5"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;<a id="law_assoc" class="idref" href="#law_assoc"><span class="id" title="constructor, projection"><span id="law_assoc" class="id">law_assoc</span></span></a> : <span class="id" title="keyword">forall</span> <a id="x:9" class="idref" href="#x:9"><span class="id" title="binder">x</span></a> <a id="y:10" class="idref" href="#y:10"><span class="id" title="binder">y</span></a> <a id="z:11" class="idref" href="#z:11"><span class="id" title="binder">z</span></a>, <a class="idref" href="AAC_tactics.AAC.html#R:6"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#dot:7"><span class="id" title="variable">dot</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:9"><span class="id" title="variable">x</span></a> (<a class="idref" href="AAC_tactics.AAC.html#dot:7"><span class="id" title="variable">dot</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:10"><span class="id" title="variable">y</span></a> <a class="idref" href="AAC_tactics.AAC.html#z:11"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#dot:7"><span class="id" title="variable">dot</span></a> (<a class="idref" href="AAC_tactics.AAC.html#dot:7"><span class="id" title="variable">dot</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:9"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:10"><span class="id" title="variable">y</span></a>) <a class="idref" href="AAC_tactics.AAC.html#z:11"><span class="id" title="variable">z</span></a>).<br/>
<span class="id" title="keyword">Class</span> <a id="Commutative" class="idref" href="#Commutative"><span class="id" title="inductive, record"><span id="Commutative" class="id">Commutative</span></span></a> (<a id="X:13" class="idref" href="#X:13"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="R:14" class="idref" href="#R:14"><span class="id" title="binder">R</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:13"><span class="id" title="variable">X</span></a>) (<a id="plus:15" class="idref" href="#plus:15"><span class="id" title="binder">plus</span></a> : <a class="idref" href="AAC_tactics.AAC.html#X:13"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:13"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:13"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;<a id="law_comm" class="idref" href="#law_comm"><span class="id" title="constructor, projection"><span id="law_comm" class="id">law_comm</span></span></a>: <span class="id" title="keyword">forall</span> <a id="x:17" class="idref" href="#x:17"><span class="id" title="binder">x</span></a> <a id="y:18" class="idref" href="#y:18"><span class="id" title="binder">y</span></a>, <a class="idref" href="AAC_tactics.AAC.html#R:14"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#plus:15"><span class="id" title="variable">plus</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:17"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:18"><span class="id" title="variable">y</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#plus:15"><span class="id" title="variable">plus</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:18"><span class="id" title="variable">y</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:17"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Class</span> <a id="Idempotent" class="idref" href="#Idempotent"><span class="id" title="inductive, record"><span id="Idempotent" class="id">Idempotent</span></span></a> (<a id="X:20" class="idref" href="#X:20"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="R:21" class="idref" href="#R:21"><span class="id" title="binder">R</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:20"><span class="id" title="variable">X</span></a>) (<a id="plus:22" class="idref" href="#plus:22"><span class="id" title="binder">plus</span></a> : <a class="idref" href="AAC_tactics.AAC.html#X:20"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:20"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:20"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;<a id="law_idem" class="idref" href="#law_idem"><span class="id" title="constructor, projection"><span id="law_idem" class="id">law_idem</span></span></a>: <span class="id" title="keyword">forall</span> <a id="x:24" class="idref" href="#x:24"><span class="id" title="binder">x</span></a>, <a class="idref" href="AAC_tactics.AAC.html#R:21"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#plus:22"><span class="id" title="variable">plus</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:24"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:24"><span class="id" title="variable">x</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:24"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Class</span> <a id="Unit" class="idref" href="#Unit"><span class="id" title="record">Unit</span></a> (<a id="X:26" class="idref" href="#X:26"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="R:27" class="idref" href="#R:27"><span class="id" title="binder">R</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:26"><span class="id" title="variable">X</span></a>) (<a id="op:28" class="idref" href="#op:28"><span class="id" title="binder">op</span></a> : <a class="idref" href="AAC_tactics.AAC.html#X:26"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:26"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:26"><span class="id" title="variable">X</span></a>) (<a id="unit:29" class="idref" href="#unit:29"><span class="id" title="binder">unit</span></a> : <a class="idref" href="AAC_tactics.AAC.html#X:26"><span class="id" title="variable">X</span></a>) := {<br/>
&nbsp;&nbsp;<a id="law_neutral_left" class="idref" href="#law_neutral_left"><span class="id" title="projection">law_neutral_left</span></a>: <span class="id" title="keyword">forall</span> <a id="x:31" class="idref" href="#x:31"><span class="id" title="binder">x</span></a>, <a class="idref" href="AAC_tactics.AAC.html#R:27"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#op:28"><span class="id" title="variable">op</span></a> <a class="idref" href="AAC_tactics.AAC.html#unit:29"><span class="id" title="variable">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:31"><span class="id" title="variable">x</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:31"><span class="id" title="variable">x</span></a>;<br/>
&nbsp;&nbsp;<a id="law_neutral_right" class="idref" href="#law_neutral_right"><span class="id" title="projection">law_neutral_right</span></a>: <span class="id" title="keyword">forall</span> <a id="x:33" class="idref" href="#x:33"><span class="id" title="binder">x</span></a>, <a class="idref" href="AAC_tactics.AAC.html#R:27"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#op:28"><span class="id" title="variable">op</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:33"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#unit:29"><span class="id" title="variable">unit</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:33"><span class="id" title="variable">x</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">Associative</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.classes.Associative</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">Commutative</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.classes.Commutative</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">Idempotent</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.classes.Idempotent</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">Unit</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.classes.Unit</span>.<br/>

<br/>
</div>

<div class="doc">
 Class used to find the equivalence relation on which operations
 are A or AC, starting from the relation appearing in the goal

</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="AAC_lift" class="idref" href="#AAC_lift"><span class="id" title="record">AAC_lift</span></a> (<a id="X:35" class="idref" href="#X:35"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>) (<a id="R:36" class="idref" href="#R:36"><span class="id" title="binder">R</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:35"><span class="id" title="variable">X</span></a>) (<a id="E:37" class="idref" href="#E:37"><span class="id" title="binder">E</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:35"><span class="id" title="variable">X</span></a>) := {<br/>
&nbsp;&nbsp;<a id="aac_lift_equivalence" class="idref" href="#aac_lift_equivalence"><span class="id" title="projection">aac_lift_equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="AAC_tactics.AAC.html#E:37"><span class="id" title="variable">E</span></a>;<br/>
&nbsp;&nbsp;<a id="aac_list_proper" class="idref" href="#aac_list_proper"><span class="id" title="projection">aac_list_proper</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="AAC_tactics.AAC.html#E:37"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#E:37"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="AAC_tactics.AAC.html#R:36"><span class="id" title="variable">R</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">AAC_lift</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.AAC_lift</span>.<br/>
<span class="id" title="keyword">Register</span> <span class="id" title="var">aac_lift_equivalence</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.aac_lift_equivalence</span>.<br/>

<br/>
</div>

<div class="doc">
Simple instances for when we have a subrelation or an equivalence 
</div>
<div class="code">
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="aac_lift_subrelation" class="idref" href="#aac_lift_subrelation"><span class="id" title="instance">aac_lift_subrelation</span></a> {<a id="X:41" class="idref" href="#X:41"><span class="id" title="binder">X</span></a>} {<a id="R:42" class="idref" href="#R:42"><span class="id" title="binder">R</span></a>} {<a id="E:43" class="idref" href="#E:43"><span class="id" title="binder">E</span></a>} {<a id="HE:44" class="idref" href="#HE:44"><span class="id" title="binder">HE</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="AAC_tactics.AAC.html#E:43"><span class="id" title="variable">E</span></a>}<br/>
&nbsp;{<a id="HR:45" class="idref" href="#HR:45"><span class="id" title="binder">HR</span></a>: @<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:41"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:42"><span class="id" title="variable">R</span></a>} {<a id="HER:46" class="idref" href="#HER:46"><span class="id" title="binder">HER</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#subrelation"><span class="id" title="class">subrelation</span></a> <a class="idref" href="AAC_tactics.AAC.html#E:43"><span class="id" title="variable">E</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:42"><span class="id" title="variable">R</span></a>} : <a class="idref" href="AAC_tactics.AAC.html#AAC_lift"><span class="id" title="class">AAC_lift</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:42"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#E:43"><span class="id" title="variable">E</span></a> | 3.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">H</span> ? ? <span class="id" title="var">H'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>, <span class="id" title="var">G</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HER</span>, <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">G</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HER</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="aac_lift_proper" class="idref" href="#aac_lift_proper"><span class="id" title="instance">aac_lift_proper</span></a> {<a id="X:47" class="idref" href="#X:47"><span class="id" title="binder">X</span></a>} {<a id="R:48" class="idref" href="#R:48"><span class="id" title="binder">R</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:47"><span class="id" title="variable">X</span></a>} {<a id="E:49" class="idref" href="#E:49"><span class="id" title="binder">E</span></a>}<br/>
&nbsp;{<a id="HE:50" class="idref" href="#HE:50"><span class="id" title="binder">HE</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="AAC_tactics.AAC.html#E:49"><span class="id" title="variable">E</span></a>} {<a id="HR:51" class="idref" href="#HR:51"><span class="id" title="binder">HR</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="AAC_tactics.AAC.html#E:49"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="AAC_tactics.AAC.html#E:49"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="AAC_tactics.AAC.html#R:48"><span class="id" title="variable">R</span></a>} : <a class="idref" href="AAC_tactics.AAC.html#AAC_lift"><span class="id" title="class">AAC_lift</span></a>  <a class="idref" href="AAC_tactics.AAC.html#R:48"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#E:49"><span class="id" title="variable">E</span></a> | 4 := {}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h2 class="section">Utilities for the evaluation function</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Internal" class="idref" href="#Internal"><span class="id" title="module">Internal</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Internal.copy" class="idref" href="#Internal.copy"><span class="id" title="section">copy</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Internal.copy.X" class="idref" href="#Internal.copy.X"><span class="id" title="variable">X</span></a>} {<a id="Internal.copy.R" class="idref" href="#Internal.copy.R"><span class="id" title="variable">R</span></a>} {<a id="Internal.copy.HR" class="idref" href="#Internal.copy.HR"><span class="id" title="variable">HR</span></a>: @<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:52"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:53"><span class="id" title="variable">R</span></a>} {<a id="Internal.copy.plus" class="idref" href="#Internal.copy.plus"><span class="id" title="variable">plus</span></a>}<br/>
&nbsp;&nbsp;&nbsp;(<a id="Internal.copy.op" class="idref" href="#Internal.copy.op"><span class="id" title="variable">op</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Associative"><span class="id" title="class">Associative</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:53"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#plus:55"><span class="id" title="variable">plus</span></a>) (<a id="Internal.copy.op'" class="idref" href="#Internal.copy.op'"><span class="id" title="variable">op'</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Commutative"><span class="id" title="class">Commutative</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:53"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#plus:55"><span class="id" title="variable">plus</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a id="Internal.copy.po" class="idref" href="#Internal.copy.po"><span class="id" title="variable">po</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="AAC_tactics.AAC.html#R:53"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:53"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:53"><span class="id" title="variable">R</span></a>) <a class="idref" href="AAC_tactics.AAC.html#plus:55"><span class="id" title="variable">plus</span></a>).<br/>

<br/>
</div>

<div class="doc">
<code>copy n x = x+...+x</code> (<code>n</code> times) 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Internal.copy'" class="idref" href="#Internal.copy'"><span class="id" title="definition">copy'</span></a> <a id="n:59" class="idref" href="#n:59"><span class="id" title="binder">n</span></a> <a id="x:60" class="idref" href="#x:60"><span class="id" title="binder">x</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#n:59"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#xH"><span class="id" title="constructor">xH</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#x:60"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#xI"><span class="id" title="constructor">xI</span></a> <span class="id" title="var">n</span> =&gt; <span class="id" title="keyword">let</span> <a id="xn:63" class="idref" href="#xn:63"><span class="id" title="binder">xn</span></a> := <a class="idref" href="AAC_tactics.AAC.html#copy':61"><span class="id" title="definition">copy'</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:59"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:60"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy.plus"><span class="id" title="variable">plus</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy.plus"><span class="id" title="variable">plus</span></a> <a class="idref" href="AAC_tactics.AAC.html#xn:63"><span class="id" title="variable">xn</span></a> <a class="idref" href="AAC_tactics.AAC.html#xn:63"><span class="id" title="variable">xn</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:60"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#xO"><span class="id" title="constructor">xO</span></a> <span class="id" title="var">n</span> =&gt; <span class="id" title="keyword">let</span> <a id="xn:64" class="idref" href="#xn:64"><span class="id" title="binder">xn</span></a> := <a class="idref" href="AAC_tactics.AAC.html#copy':61"><span class="id" title="definition">copy'</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:59"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:60"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy.plus"><span class="id" title="variable">plus</span></a> <a class="idref" href="AAC_tactics.AAC.html#xn:64"><span class="id" title="variable">xn</span></a> <a class="idref" href="AAC_tactics.AAC.html#xn:64"><span class="id" title="variable">xn</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.copy" class="idref" href="#Internal.copy"><span class="id" title="definition">copy</span></a> <a id="n:65" class="idref" href="#n:65"><span class="id" title="binder">n</span></a> <a id="x:66" class="idref" href="#x:66"><span class="id" title="binder">x</span></a> := <span class="id" title="abbreviation">Prect</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.copy.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:66"><span class="id" title="variable">x</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="xn:67" class="idref" href="#xn:67"><span class="id" title="binder">xn</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.copy.plus"><span class="id" title="variable">plus</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:66"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#xn:67"><span class="id" title="variable">xn</span></a>) <a class="idref" href="AAC_tactics.AAC.html#n:65"><span class="id" title="variable">n</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.copy_plus" class="idref" href="#Internal.copy_plus"><span class="id" title="lemma">copy_plus</span></a> : <span class="id" title="keyword">forall</span> <a id="n:68" class="idref" href="#n:68"><span class="id" title="binder">n</span></a> <a id="m:69" class="idref" href="#m:69"><span class="id" title="binder">m</span></a> <a id="x:70" class="idref" href="#x:70"><span class="id" title="binder">x</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.copy.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> (<a class="idref" href="AAC_tactics.AAC.html#n:68"><span class="id" title="variable">n</span></a><span class="id" title="notation">+</span><a class="idref" href="AAC_tactics.AAC.html#m:69"><span class="id" title="variable">m</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:70"><span class="id" title="variable">x</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy.plus"><span class="id" title="variable">plus</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:68"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:70"><span class="id" title="variable">x</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <a class="idref" href="AAC_tactics.AAC.html#m:69"><span class="id" title="variable">m</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:70"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">using</span> <span class="id" title="abbreviation">Pind</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">Prect_base</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">Pplus_one_succ_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">Prect_succ</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">Pplus_succ_permute_l</span>. <span class="id" title="tactic">rewrite</span> 2<span class="id" title="abbreviation">Prect_succ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy.op"><span class="id" title="variable">op</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.copy_xH" class="idref" href="#Internal.copy_xH"><span class="id" title="lemma">copy_xH</span></a> : <span class="id" title="keyword">forall</span> <a id="x:71" class="idref" href="#x:71"><span class="id" title="binder">x</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.copy.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> 1 <a class="idref" href="AAC_tactics.AAC.html#x:71"><span class="id" title="variable">x</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:71"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">Prect_base</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.copy_Psucc" class="idref" href="#Internal.copy_Psucc"><span class="id" title="lemma">copy_Psucc</span></a> : <span class="id" title="keyword">forall</span> <a id="n:72" class="idref" href="#n:72"><span class="id" title="binder">n</span></a> <a id="x:73" class="idref" href="#x:73"><span class="id" title="binder">x</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.copy.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> (<span class="id" title="definition">Pos.succ</span> <a class="idref" href="AAC_tactics.AAC.html#n:72"><span class="id" title="variable">n</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:73"><span class="id" title="variable">x</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy.plus"><span class="id" title="variable">plus</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:73"><span class="id" title="variable">x</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:73"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">Prect_succ</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Internal.copy_compat" class="idref" href="#Internal.copy_compat"><span class="id" title="instance">copy_compat</span></a> <a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy.R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:74"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">using</span> <span class="id" title="abbreviation">Pind</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2<span class="id" title="abbreviation">Prect_base</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2<span class="id" title="abbreviation">Prect_succ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy.po"><span class="id" title="variable">po</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="section">copy</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h2 class="section">Packaging structures</h2>

<div class="paragraph"> </div>

<a id="lab10"></a><h3 class="section">Free symbols</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Internal.Sym" class="idref" href="#Internal.Sym"><span class="id" title="module">Sym</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Internal.Sym.t" class="idref" href="#Internal.Sym.t"><span class="id" title="section">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Internal.Sym.t.X" class="idref" href="#Internal.Sym.t.X"><span class="id" title="variable">X</span></a>} {<a id="Internal.Sym.t.R" class="idref" href="#Internal.Sym.t.R"><span class="id" title="variable">R</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:75"><span class="id" title="variable">X</span></a>} .<br/>

<br/>
</div>

<div class="doc">
Type of an arity 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Internal.Sym.type_of" class="idref" href="#Internal.Sym.type_of"><span class="id" title="definition">type_of</span></a>  (<a id="n:77" class="idref" href="#n:77"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#n:77"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.t.X"><span class="id" title="variable">X</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.t.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#type_of:78"><span class="id" title="definition">type_of</span></a>  <a class="idref" href="AAC_tactics.AAC.html#n:77"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Relation to be preserved at an arity 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Internal.Sym.rel_of" class="idref" href="#Internal.Sym.rel_of"><span class="id" title="definition">rel_of</span></a> <a id="n:80" class="idref" href="#n:80"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:80"><span class="id" title="variable">n</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#n:80"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.t.R"><span class="id" title="variable">R</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#respectful"><span class="id" title="definition">respectful</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.t.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#rel_of:81"><span class="id" title="definition">rel_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:80"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">type_of</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.sym.type_of</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">rel_of</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.sym.rel_of</span>.<br/>

<br/>
</div>

<div class="doc">
A symbol package contains:
<ul class="doclist">
<li> an arity,

</li>
<li> a value of the corresponding type, and

</li>
<li> a proof that the value is a proper morphism 

</li>
</ul>
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Internal.Sym.pack" class="idref" href="#Internal.Sym.pack"><span class="id" title="record">pack</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mkPack</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.Sym.ar" class="idref" href="#Internal.Sym.ar"><span class="id" title="projection">ar</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.Sym.value" class="idref" href="#Internal.Sym.value"><span class="id" title="projection">value</span></a> :&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.type_of"><span class="id" title="definition">type_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#ar:84"><span class="id" title="method">ar</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.Sym.morph" class="idref" href="#Internal.Sym.morph"><span class="id" title="projection">morph</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.rel_of"><span class="id" title="definition">rel_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#ar:84"><span class="id" title="method">ar</span></a>) <a class="idref" href="AAC_tactics.AAC.html#value:85"><span class="id" title="method">value</span></a> <br/>
&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">pack</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.sym.pack</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">mkPack</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.sym.mkPack</span>.<br/>

<br/>
</div>

<div class="doc">
Helper to build default values, when filling reification environments 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.Sym.null" class="idref" href="#Internal.Sym.null"><span class="id" title="definition">null</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.pack"><span class="id" title="record">pack</span></a> := <a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.mkPack"><span class="id" title="constructor">mkPack</span></a> 1 (<span class="id" title="keyword">fun</span> <a id="x:88" class="idref" href="#x:88"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#x:88"><span class="id" title="variable">x</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a id="H:87" class="idref" href="#H:87"><span class="id" title="binder">H</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#H:87"><span class="id" title="variable">H</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">null</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.sym.null</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Sym.t"><span class="id" title="section">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Sym"><span class="id" title="module">Sym</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h3 class="section">Binary operations</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Internal.Bin" class="idref" href="#Internal.Bin"><span class="id" title="module">Bin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Internal.Bin.t" class="idref" href="#Internal.Bin.t"><span class="id" title="section">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Internal.Bin.t.X" class="idref" href="#Internal.Bin.t.X"><span class="id" title="variable">X</span></a>} {<a id="Internal.Bin.t.R" class="idref" href="#Internal.Bin.t.R"><span class="id" title="variable">R</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:89"><span class="id" title="variable">X</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Internal.Bin.pack" class="idref" href="#Internal.Bin.pack"><span class="id" title="record">pack</span></a> := <span class="id" title="var">mk_pack</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.Bin.value" class="idref" href="#Internal.Bin.value"><span class="id" title="projection">value</span></a>:&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t.X"><span class="id" title="variable">X</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.Bin.compat" class="idref" href="#Internal.Bin.compat"><span class="id" title="projection">compat</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t.R"><span class="id" title="variable">R</span></a>) <a class="idref" href="AAC_tactics.AAC.html#value:92"><span class="id" title="method">value</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.Bin.assoc" class="idref" href="#Internal.Bin.assoc"><span class="id" title="projection">assoc</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Associative"><span class="id" title="class">Associative</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#value:92"><span class="id" title="method">value</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.Bin.comm" class="idref" href="#Internal.Bin.comm"><span class="id" title="projection">comm</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Commutative"><span class="id" title="class">Commutative</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#value:92"><span class="id" title="method">value</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.Bin.idem" class="idref" href="#Internal.Bin.idem"><span class="id" title="projection">idem</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Idempotent"><span class="id" title="class">Idempotent</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#value:92"><span class="id" title="method">value</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">pack</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.bin.pack</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">mk_pack</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.bin.mkPack</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin.t"><span class="id" title="section">t</span></a>.<br/>
</div>

<div class="doc">
See the <code>Instances</code> module for concrete instances of these classes 
</div>
<div class="code">
<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Bin"><span class="id" title="module">Bin</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h2 class="section">Reification, normalisation, and decision</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Internal.s" class="idref" href="#Internal.s"><span class="id" title="section">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Internal.s.X" class="idref" href="#Internal.s.X"><span class="id" title="variable">X</span></a>} {<a id="Internal.s.R" class="idref" href="#Internal.s.R"><span class="id" title="variable">R</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:97"><span class="id" title="variable">X</span></a>} {<a id="Internal.s.E" class="idref" href="#Internal.s.E"><span class="id" title="variable">E</span></a>: @<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="AAC_tactics.AAC.html#X:97"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:98"><span class="id" title="variable">R</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Infix</span> <a id="8898ce7e63580173f57e764064a2722e" class="idref" href="#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">&quot;</span></a>==" := <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 80).<br/>

<br/>
</div>

<div class="doc">
    We use environments to store the various operators
    and the morphisms
  
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.e_sym" class="idref" href="#Internal.s.e_sym"><span class="id" title="variable">e_sym</span></a>: <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> @<a class="idref" href="AAC_tactics.AAC.html#Internal.pack"><span class="id" title="record">Sym.pack</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.e_bin" class="idref" href="#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a>: <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> @<a class="idref" href="AAC_tactics.AAC.html#Internal.pack"><span class="id" title="record">Bin.pack</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a>.<br/>

<br/>
</div>

<div class="doc">
Packaging units (depends on <span class="inlinecode"><a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a></span>) 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Internal.unit_of" class="idref" href="#Internal.unit_of"><span class="id" title="record">unit_of</span></a> <a id="u:104" class="idref" href="#u:104"><span class="id" title="binder">u</span></a> := <span class="id" title="var">mk_unit_for</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.uf_idx" class="idref" href="#Internal.uf_idx"><span class="id" title="projection">uf_idx</span></a>: <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.uf_desc" class="idref" href="#Internal.uf_desc"><span class="id" title="projection">uf_desc</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Unit"><span class="id" title="class">Unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#uf_idx:106"><span class="id" title="method">uf_idx</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#u:104"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="Internal.unit_pack" class="idref" href="#Internal.unit_pack"><span class="id" title="record">unit_pack</span></a> := <span class="id" title="var">mk_unit_pack</span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.u_value" class="idref" href="#Internal.u_value"><span class="id" title="projection">u_value</span></a>:&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Internal.u_desc" class="idref" href="#Internal.u_desc"><span class="id" title="projection">u_desc</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit_of"><span class="id" title="record">unit_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#u_value:109"><span class="id" title="method">u_value</span></a>)<br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">unit_of</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.unit_of</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">mk_unit_for</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.mk_unit_for</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">unit_pack</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.unit_pack</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">mk_unit_pack</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.mk_unit_pack</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.e_unit" class="idref" href="#Internal.s.e_unit"><span class="id" title="variable">e_unit</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.unit_pack"><span class="id" title="record">unit_pack</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">e_bin</span> <span class="id" title="var">e_unit</span>: <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab13"></a><h3 class="section">Almost normalised syntax</h3>


<div class="paragraph"> </div>

     A term in <span class="inlinecode"><a class="idref" href="AAC_tactics.Instances.html#Relations.defs.T"><span class="id" title="variable">T</span></a></span> is in normal form if:
<ul class="doclist">
<li> sums do not contain sums

</li>
<li> products do not contain products

</li>
<li> there are no unary sums or products

</li>
<li> lists and msets are lexicographically sorted according to the order we define below

</li>
</ul>

<div class="paragraph"> </div>

     <span class="inlinecode"><a class="idref" href="AAC_tactics.AAC.html#Internal.vT"><span class="id" title="inductive">vT</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> denotes the set of term vectors of size <code>n</code>
     (the mutual dependency could be removed).

<div class="paragraph"> </div>

     Note that <span class="inlinecode"><a class="idref" href="AAC_tactics.Instances.html#Relations.defs.T"><span class="id" title="variable">T</span></a></span> and <span class="inlinecode"><a class="idref" href="AAC_tactics.AAC.html#Internal.vT"><span class="id" title="inductive">vT</span></a></span> depend on the <span class="inlinecode"><a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_sym"><span class="id" title="variable">e_sym</span></a></span> environment (which
     contains, among other things, the arity of symbols).
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Internal.T" class="idref" href="#Internal.T"><span class="id" title="definition, inductive"><span id="Internal.T_rect" class="id"><span id="Internal.T_ind" class="id"><span id="Internal.T_rec" class="id"><span id="Internal.T_sind" class="id">T</span></span></span></span></span></a>: <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Internal.sum" class="idref" href="#Internal.sum"><span class="id" title="constructor">sum</span></a>: <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#T:113"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#T:113"><span class="id" title="inductive">T</span></a><br/>
&nbsp;&nbsp;| <a id="Internal.prd" class="idref" href="#Internal.prd"><span class="id" title="constructor">prd</span></a>: <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#T:113"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#T:113"><span class="id" title="inductive">T</span></a><br/>
&nbsp;&nbsp;| <a id="Internal.sym" class="idref" href="#Internal.sym"><span class="id" title="constructor">sym</span></a>: <span class="id" title="keyword">forall</span> <a id="i:117" class="idref" href="#i:117"><span class="id" title="binder">i</span></a>, <a class="idref" href="AAC_tactics.AAC.html#vT:114"><span class="id" title="inductive">vT</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.ar"><span class="id" title="projection">Sym.ar</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_sym"><span class="id" title="variable">e_sym</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:117"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#T:113"><span class="id" title="inductive">T</span></a><br/>
&nbsp;&nbsp;| <a id="Internal.unit" class="idref" href="#Internal.unit"><span class="id" title="constructor">unit</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#T:113"><span class="id" title="inductive">T</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="Internal.vT" class="idref" href="#Internal.vT"><span class="id" title="definition, inductive"><span id="Internal.vT_rect" class="id"><span id="Internal.vT_ind" class="id"><span id="Internal.vT_rec" class="id"><span id="Internal.vT_sind" class="id">vT</span></span></span></span></span></a>: <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Internal.vnil" class="idref" href="#Internal.vnil"><span class="id" title="constructor">vnil</span></a>: <a class="idref" href="AAC_tactics.AAC.html#vT:114"><span class="id" title="inductive">vT</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a><br/>
&nbsp;&nbsp;| <a id="Internal.vcons" class="idref" href="#Internal.vcons"><span class="id" title="constructor">vcons</span></a>: <span class="id" title="keyword">forall</span> <a id="n:118" class="idref" href="#n:118"><span class="id" title="binder">n</span></a>, <a class="idref" href="AAC_tactics.AAC.html#T:113"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#vT:114"><span class="id" title="inductive">vT</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:118"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#vT:114"><span class="id" title="inductive">vT</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:118"><span class="id" title="variable">n</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">T</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">sum</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.sum</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">prd</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.prd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">sym</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.sym</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">unit</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.unit</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">vnil</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.vnil</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">vcons</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.vcons</span>.<br/>

<br/>
</div>

<div class="doc">
Lexicographic rpo over the normalised syntax 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Internal.compare" class="idref" href="#Internal.compare"><span class="id" title="definition">compare</span></a> (<a id="u:119" class="idref" href="#u:119"><span class="id" title="binder">u</span></a> <a id="v:120" class="idref" href="#v:120"><span class="id" title="binder">v</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#u:119"><span class="id" title="variable">u</span></a>,<a class="idref" href="AAC_tactics.AAC.html#v:120"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span>, <a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <span class="id" title="var">j</span> <span class="id" title="var">vs</span> =&gt; <a class="idref" href="AAC_tactics.Utils.html#lex"><span class="id" title="abbreviation">lex</span></a> (<span class="id" title="definition">Pos.compare</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>) (<a class="idref" href="AAC_tactics.Utils.html#mset_compare"><span class="id" title="definition">mset_compare</span></a> <a class="idref" href="AAC_tactics.AAC.html#compare:125"><span class="id" title="definition">compare</span></a> <span class="id" title="var">l</span> <span class="id" title="var">vs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span>, <a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <span class="id" title="var">j</span> <span class="id" title="var">vs</span> =&gt; <a class="idref" href="AAC_tactics.Utils.html#lex"><span class="id" title="abbreviation">lex</span></a> (<span class="id" title="definition">Pos.compare</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>) (<a class="idref" href="AAC_tactics.Utils.html#list_compare"><span class="id" title="definition">list_compare</span></a> <a class="idref" href="AAC_tactics.AAC.html#compare:125"><span class="id" title="definition">compare</span></a> <span class="id" title="var">l</span> <span class="id" title="var">vs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.sym"><span class="id" title="constructor">sym</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span>, <a class="idref" href="AAC_tactics.AAC.html#Internal.sym"><span class="id" title="constructor">sym</span></a> <span class="id" title="var">j</span> <span class="id" title="var">vs</span> =&gt; <a class="idref" href="AAC_tactics.Utils.html#lex"><span class="id" title="abbreviation">lex</span></a> (<span class="id" title="definition">Pos.compare</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>) (<a class="idref" href="AAC_tactics.AAC.html#vcompare:126"><span class="id" title="definition">vcompare</span></a> <span class="id" title="var">l</span> <span class="id" title="var">vs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">i</span> , <a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">j</span> =&gt; <span class="id" title="definition">Pos.compare</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">_</span> , <span class="id" title="var">_</span>        =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>      , <a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">_</span>   =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.sym"><span class="id" title="constructor">sym</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>,  <span class="id" title="var">_</span>       =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>      , <a class="idref" href="AAC_tactics.AAC.html#Internal.sym"><span class="id" title="constructor">sym</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>        =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>      , <a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="Internal.vcompare" class="idref" href="#Internal.vcompare"><span class="id" title="definition">vcompare</span></a> <a id="i:121" class="idref" href="#i:121"><span class="id" title="binder">i</span></a> <a id="j:122" class="idref" href="#j:122"><span class="id" title="binder">j</span></a> (<a id="us:123" class="idref" href="#us:123"><span class="id" title="binder">us</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.vT"><span class="id" title="inductive">vT</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:121"><span class="id" title="variable">i</span></a>) (<a id="vs:124" class="idref" href="#vs:124"><span class="id" title="binder">vs</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.vT"><span class="id" title="inductive">vT</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:122"><span class="id" title="variable">j</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#us:123"><span class="id" title="variable">us</span></a>,<a class="idref" href="AAC_tactics.AAC.html#vs:124"><span class="id" title="variable">vs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.vnil"><span class="id" title="constructor">vnil</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.vnil"><span class="id" title="constructor">vnil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.vnil"><span class="id" title="constructor">vnil</span></a>, <span class="id" title="var">_</span>    =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,    <a class="idref" href="AAC_tactics.AAC.html#Internal.vnil"><span class="id" title="constructor">vnil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.vcons"><span class="id" title="constructor">vcons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">u</span> <span class="id" title="var">us</span>, <a class="idref" href="AAC_tactics.AAC.html#Internal.vcons"><span class="id" title="constructor">vcons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">v</span> <span class="id" title="var">vs</span> =&gt; <a class="idref" href="AAC_tactics.Utils.html#lex"><span class="id" title="abbreviation">lex</span></a> (<a class="idref" href="AAC_tactics.AAC.html#compare:125"><span class="id" title="definition">compare</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span>) (<a class="idref" href="AAC_tactics.AAC.html#vcompare:126"><span class="id" title="definition">vcompare</span></a> <a class="idref" href="AAC_tactics.AAC.html#us:123"><span class="id" title="variable">us</span></a> <a class="idref" href="AAC_tactics.AAC.html#vs:124"><span class="id" title="variable">vs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h3 class="section">Evaluation from syntax to the abstract domain</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Internal.eval" class="idref" href="#Internal.eval"><span class="id" title="definition">eval</span></a> <a id="u:131" class="idref" href="#u:131"><span class="id" title="binder">u</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#u:131"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span> =&gt; <span class="id" title="keyword">let</span> <a id="o:137" class="idref" href="#o:137"><span class="id" title="binder">o</span></a> := <a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.Utils.html#fold_map"><span class="id" title="definition">fold_map</span></a> (<span class="id" title="keyword">fun</span> <a id="un:138" class="idref" href="#un:138"><span class="id" title="binder">un</span></a> =&gt; <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>:=<a class="idref" href="AAC_tactics.AAC.html#un:138"><span class="id" title="variable">un</span></a> <span class="id" title="tactic">in</span> @<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <span class="id" title="var">_</span> <a class="idref" href="AAC_tactics.AAC.html#o:137"><span class="id" title="variable">o</span></a> <span class="id" title="var">n</span> (<a class="idref" href="AAC_tactics.AAC.html#eval:134"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:131"><span class="id" title="variable">u</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#o:137"><span class="id" title="variable">o</span></a> <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span> =&gt; <a class="idref" href="AAC_tactics.Utils.html#fold_map"><span class="id" title="definition">fold_map</span></a> <a class="idref" href="AAC_tactics.AAC.html#eval:134"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <span class="id" title="var">i</span>)) <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.sym"><span class="id" title="constructor">sym</span></a> <span class="id" title="var">i</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#eval_aux:135"><span class="id" title="definition">eval_aux</span></a> <span class="id" title="var">v</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Sym.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_sym"><span class="id" title="variable">e_sym</span></a> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">i</span>  =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_unit"><span class="id" title="variable">e_unit</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="Internal.eval_aux" class="idref" href="#Internal.eval_aux"><span class="id" title="definition">eval_aux</span></a> <a id="i:132" class="idref" href="#i:132"><span class="id" title="binder">i</span></a> (<a id="v:133" class="idref" href="#v:133"><span class="id" title="binder">v</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.vT"><span class="id" title="inductive">vT</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:132"><span class="id" title="variable">i</span></a>): <a class="idref" href="AAC_tactics.AAC.html#Internal.type_of"><span class="id" title="definition">Sym.type_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:132"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#v:133"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.vnil"><span class="id" title="constructor">vnil</span></a> =&gt; <span class="id" title="keyword">fun</span> <a id="f:141" class="idref" href="#f:141"><span class="id" title="binder">f</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#f:141"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.vcons"><span class="id" title="constructor">vcons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">fun</span> <a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#eval_aux:135"><span class="id" title="definition">eval_aux</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:133"><span class="id" title="variable">v</span></a> (<a class="idref" href="AAC_tactics.AAC.html#f:142"><span class="id" title="variable">f</span></a> (<a class="idref" href="AAC_tactics.AAC.html#eval:134"><span class="id" title="definition">eval</span></a> <span class="id" title="var">u</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="tactic">eval</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.eval</span>.<br/>

<br/>
</div>

<div class="doc">
    We need to show that <span class="inlinecode"><a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a></span> reflects equality (this is because
    we work with msets rather than with lists with arities)
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Internal.tcompare_weak_spec" class="idref" href="#Internal.tcompare_weak_spec"><span class="id" title="definition">tcompare_weak_spec</span></a> <a id="u:143" class="idref" href="#u:143"><span class="id" title="binder">u</span></a> : <span class="id" title="keyword">forall</span> (<a id="v:146" class="idref" href="#v:146"><span class="id" title="binder">v</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>), <a class="idref" href="AAC_tactics.Utils.html#compare_weak_spec"><span class="id" title="inductive">compare_weak_spec</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:143"><span class="id" title="variable">u</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:146"><span class="id" title="variable">v</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:143"><span class="id" title="variable">u</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:146"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="Internal.vcompare_reflect_eqdep" class="idref" href="#Internal.vcompare_reflect_eqdep"><span class="id" title="definition">vcompare_reflect_eqdep</span></a> <a id="i:144" class="idref" href="#i:144"><span class="id" title="binder">i</span></a> <a id="us:145" class="idref" href="#us:145"><span class="id" title="binder">us</span></a> : <span class="id" title="keyword">forall</span> <a id="j:147" class="idref" href="#j:147"><span class="id" title="binder">j</span></a> <a id="vs:148" class="idref" href="#vs:148"><span class="id" title="binder">vs</span></a> (<a id="H:149" class="idref" href="#H:149"><span class="id" title="binder">H</span></a>: <a class="idref" href="AAC_tactics.AAC.html#i:144"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="AAC_tactics.AAC.html#j:147"><span class="id" title="variable">j</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.vcompare"><span class="id" title="definition">vcompare</span></a> <a class="idref" href="AAC_tactics.AAC.html#us:145"><span class="id" title="variable">us</span></a> <a class="idref" href="AAC_tactics.AAC.html#vs:148"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.Utils.html#cast"><span class="id" title="abbreviation">cast</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.vT"><span class="id" title="inductive">vT</span></a> <a class="idref" href="AAC_tactics.AAC.html#H:149"><span class="id" title="variable">H</span></a> <a class="idref" href="AAC_tactics.AAC.html#us:145"><span class="id" title="variable">us</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="AAC_tactics.AAC.html#vs:148"><span class="id" title="variable">vs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.Utils.html#pos_compare_weak_spec"><span class="id" title="lemma">pos_compare_weak_spec</span></a> <span class="id" title="var">p</span> <span class="id" title="var">p0</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.Utils.html#mset_compare_weak_spec"><span class="id" title="lemma">mset_compare_weak_spec</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a> <span class="id" title="var">tcompare_weak_spec</span> <span class="id" title="var">m</span> <span class="id" title="var">m0</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.Utils.html#pos_compare_weak_spec"><span class="id" title="lemma">pos_compare_weak_spec</span></a> <span class="id" title="var">p</span> <span class="id" title="var">p0</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.Utils.html#list_compare_weak_spec"><span class="id" title="lemma">list_compare_weak_spec</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a> <span class="id" title="var">tcompare_weak_spec</span> <span class="id" title="var">n</span> <span class="id" title="var">n0</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v0</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">Pos.compare</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="tactic">symmetry</span></span>&nbsp;is&nbsp;required&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.Utils.html#pos_compare_reflect_eq"><span class="id" title="lemma">pos_compare_reflect_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.vcompare"><span class="id" title="definition">vcompare</span></a> <span class="id" title="var">v</span> <span class="id" title="var">v0</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">vcompare_reflect_eqdep</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">Hv</span>). <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">Pos.compare</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.Utils.html#pos_compare_reflect_eq"><span class="id" title="lemma">pos_compare_reflect_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">us</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">vs</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">Huv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.Utils.html#cast_eq"><span class="id" title="lemma">cast_eq</span></a>, <span class="id" title="abbreviation">eq_nat_dec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Huv</span>; <span class="id" title="tactic">case</span> (<span class="id" title="var">tcompare_weak_spec</span> <span class="id" title="var">t</span> <span class="id" title="var">t0</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="tactic">symmetry</span></span>&nbsp;is&nbsp;required&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">IHus</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">Huv</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.Utils.html#cast_eq"><span class="id" title="lemma">cast_eq</span></a>, <span class="id" title="abbreviation">eq_nat_dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Internal.eval_aux_compat" class="idref" href="#Internal.eval_aux_compat"><span class="id" title="instance">eval_aux_compat</span></a> <a id="i:152" class="idref" href="#i:152"><span class="id" title="binder">i</span></a> (<a id="l:153" class="idref" href="#l:153"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.vT"><span class="id" title="inductive">vT</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:152"><span class="id" title="variable">i</span></a>): <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (@<a class="idref" href="AAC_tactics.AAC.html#Internal.rel_of"><span class="id" title="definition">Sym.rel_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:152"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval_aux"><span class="id" title="definition">eval_aux</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:153"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>, <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Is <code>i</code> a unit for <code>j</code>? 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.is_unit_of" class="idref" href="#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <a id="j:154" class="idref" href="#j:154"><span class="id" title="binder">j</span></a> <a id="i:155" class="idref" href="#i:155"><span class="id" title="binder">i</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">List.existsb</span> (<span class="id" title="keyword">fun</span> <a id="p:156" class="idref" href="#p:156"><span class="id" title="binder">p</span></a> =&gt; <a class="idref" href="AAC_tactics.Utils.html#eq_idx_bool"><span class="id" title="definition">eq_idx_bool</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:154"><span class="id" title="variable">j</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.uf_idx"><span class="id" title="projection">uf_idx</span></a> <a class="idref" href="AAC_tactics.AAC.html#p:156"><span class="id" title="variable">p</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.u_desc"><span class="id" title="projection">u_desc</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_unit"><span class="id" title="variable">e_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:155"><span class="id" title="variable">i</span></a>)).<br/>

<br/>
</div>

<div class="doc">
Is <code>i</code> commutative? 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.is_commutative" class="idref" href="#Internal.is_commutative"><span class="id" title="definition">is_commutative</span></a> <a id="i:157" class="idref" href="#i:157"><span class="id" title="binder">i</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.comm"><span class="id" title="projection">Bin.comm</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:157"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Is <code>i</code> idempotent? 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.is_idempotent" class="idref" href="#Internal.is_idempotent"><span class="id" title="definition">is_idempotent</span></a> <a id="i:158" class="idref" href="#i:158"><span class="id" title="binder">i</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.idem"><span class="id" title="projection">Bin.idem</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:158"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h3 class="section">Normalisation</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">universes</span>(<span class="id" title="var">template</span>)]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Internal.discr" class="idref" href="#Internal.discr"><span class="id" title="definition, inductive"><span id="Internal.discr_rect" class="id"><span id="Internal.discr_ind" class="id"><span id="Internal.discr_rec" class="id"><span id="Internal.discr_sind" class="id">discr</span></span></span></span></span></a> {<a id="A:159" class="idref" href="#A:159"><span class="id" title="binder">A</span></a>} : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Internal.Is_op" class="idref" href="#Internal.Is_op"><span class="id" title="constructor">Is_op</span></a> : <a class="idref" href="AAC_tactics.AAC.html#A:159"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#discr:160"><span class="id" title="inductive">discr</span></a><br/>
&nbsp;&nbsp;| <a id="Internal.Is_unit" class="idref" href="#Internal.Is_unit"><span class="id" title="constructor">Is_unit</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#discr:160"><span class="id" title="inductive">discr</span></a><br/>
&nbsp;&nbsp;| <a id="Internal.Is_nothing" class="idref" href="#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a> : <a class="idref" href="AAC_tactics.AAC.html#discr:160"><span class="id" title="inductive">discr</span></a>.<br/>

<br/>
</div>

<div class="doc">
This is called <span class="inlinecode"><span class="id" title="var">Datatypes.sum</span></span> in the stdlib 
</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">universes</span>(<span class="id" title="var">template</span>)]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Internal.m" class="idref" href="#Internal.m"><span class="id" title="definition, inductive"><span id="Internal.m_rect" class="id"><span id="Internal.m_ind" class="id"><span id="Internal.m_rec" class="id"><span id="Internal.m_sind" class="id">m</span></span></span></span></span></a> {<a id="A:162" class="idref" href="#A:162"><span class="id" title="binder">A</span></a>} {<a id="B:163" class="idref" href="#B:163"><span class="id" title="binder">B</span></a>} :=<br/>
&nbsp;&nbsp;| <a id="Internal.left" class="idref" href="#Internal.left"><span class="id" title="constructor">left</span></a> : <a class="idref" href="AAC_tactics.AAC.html#A:162"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#m:164"><span class="id" title="inductive">m</span></a><br/>
&nbsp;&nbsp;| <a id="Internal.right" class="idref" href="#Internal.right"><span class="id" title="constructor">right</span></a> : <a class="idref" href="AAC_tactics.AAC.html#B:163"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#m:164"><span class="id" title="inductive">m</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.comp" class="idref" href="#Internal.comp"><span class="id" title="definition">comp</span></a> <a id="A:166" class="idref" href="#A:166"><span class="id" title="binder">A</span></a> <a id="B:167" class="idref" href="#B:167"><span class="id" title="binder">B</span></a> (<a id="merge:168" class="idref" href="#merge:168"><span class="id" title="binder">merge</span></a> : <a class="idref" href="AAC_tactics.AAC.html#B:167"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#B:167"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#B:167"><span class="id" title="variable">B</span></a>) (<a id="l:169" class="idref" href="#l:169"><span class="id" title="binder">l</span></a> : <a class="idref" href="AAC_tactics.AAC.html#B:167"><span class="id" title="variable">B</span></a>) (<a id="l':170" class="idref" href="#l':170"><span class="id" title="binder">l'</span></a> : @<a class="idref" href="AAC_tactics.AAC.html#Internal.m"><span class="id" title="inductive">m</span></a> <a class="idref" href="AAC_tactics.AAC.html#A:166"><span class="id" title="variable">A</span></a> <a class="idref" href="AAC_tactics.AAC.html#B:167"><span class="id" title="variable">B</span></a>) : @<a class="idref" href="AAC_tactics.AAC.html#Internal.m"><span class="id" title="inductive">m</span></a> <a class="idref" href="AAC_tactics.AAC.html#A:166"><span class="id" title="variable">A</span></a> <a class="idref" href="AAC_tactics.AAC.html#B:167"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#l':170"><span class="id" title="variable">l'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:169"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">l'</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> (<a class="idref" href="AAC_tactics.AAC.html#merge:168"><span class="id" title="variable">merge</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:169"><span class="id" title="variable">l</span></a> <a class="idref" href="AAC_tactics.AAC.html#l':170"><span class="id" title="variable">l'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Auxiliary functions, to clean up sums 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Internal.s.sums" class="idref" href="#Internal.s.sums"><span class="id" title="section">sums</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.sums.i" class="idref" href="#Internal.s.sums.i"><span class="id" title="variable">i</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.sums.is_unit" class="idref" href="#Internal.s.sums.is_unit"><span class="id" title="variable">is_unit</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.sum'" class="idref" href="#Internal.sum'"><span class="id" title="definition">sum'</span></a> (<a id="u:176" class="idref" href="#u:176"><span class="id" title="binder">u</span></a>: <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#u:176"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#xH"><span class="id" title="constructor">xH</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#u:176"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sums.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:176"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.is_sum" class="idref" href="#Internal.is_sum"><span class="id" title="definition">is_sum</span></a> (<a id="u:178" class="idref" href="#u:178"><span class="id" title="binder">u</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) : @<a class="idref" href="AAC_tactics.AAC.html#Internal.discr"><span class="id" title="inductive">discr</span></a> (<a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#u:178"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <span class="id" title="var">j</span> <span class="id" title="var">l</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="AAC_tactics.Utils.html#eq_idx_bool"><span class="id" title="definition">eq_idx_bool</span></a> <span class="id" title="var">j</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sums.i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_op"><span class="id" title="constructor">Is_op</span></a> <span class="id" title="var">l</span> <span class="id" title="keyword">else</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">j</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sums.is_unit"><span class="id" title="variable">is_unit</span></a> <span class="id" title="var">j</span> <span class="id" title="keyword">then</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_unit"><span class="id" title="constructor">Is_unit</span></a> <span class="id" title="var">j</span> <span class="id" title="keyword">else</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.copy_mset" class="idref" href="#Internal.copy_mset"><span class="id" title="definition">copy_mset</span></a> <a id="n:180" class="idref" href="#n:180"><span class="id" title="binder">n</span></a> (<a id="l:181" class="idref" href="#l:181"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#n:180"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#xH"><span class="id" title="constructor">xH</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#l:181"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="AAC_tactics.Utils.html#nelist_map"><span class="id" title="definition">nelist_map</span></a> (<span class="id" title="keyword">fun</span> <a id="vm:183" class="idref" href="#vm:183"><span class="id" title="binder">vm</span></a> =&gt; <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>:=<a class="idref" href="AAC_tactics.AAC.html#vm:183"><span class="id" title="variable">vm</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="abbreviation">Pmult</span> <a class="idref" href="AAC_tactics.AAC.html#n:180"><span class="id" title="variable">n</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="AAC_tactics.AAC.html#l:181"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.return_sum" class="idref" href="#Internal.return_sum"><span class="id" title="definition">return_sum</span></a> <a id="u:185" class="idref" href="#u:185"><span class="id" title="binder">u</span></a> <a id="n:186" class="idref" href="#n:186"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_sum"><span class="id" title="definition">is_sum</span></a>  <a class="idref" href="AAC_tactics.AAC.html#u:185"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="AAC_tactics.AAC.html#u:185"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="AAC_tactics.AAC.html#n:186"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_op"><span class="id" title="constructor">Is_op</span></a> <span class="id" title="var">l'</span> =&gt;  <a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset"><span class="id" title="definition">copy_mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:186"><span class="id" title="variable">n</span></a> <span class="id" title="var">l'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_unit"><span class="id" title="constructor">Is_unit</span></a> <span class="id" title="var">j</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">j</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.add_to_sum" class="idref" href="#Internal.add_to_sum"><span class="id" title="definition">add_to_sum</span></a> <a id="u:187" class="idref" href="#u:187"><span class="id" title="binder">u</span></a> <a id="n:188" class="idref" href="#n:188"><span class="id" title="binder">n</span></a> (<a id="l:189" class="idref" href="#l:189"><span class="id" title="binder">l</span></a> : @<a class="idref" href="AAC_tactics.AAC.html#Internal.m"><span class="id" title="inductive">m</span></a> <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> (<a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>))  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_sum"><span class="id" title="definition">is_sum</span></a>  <a class="idref" href="AAC_tactics.AAC.html#u:187"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a> (<a class="idref" href="AAC_tactics.Utils.html#merge_msets"><span class="id" title="definition">merge_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a>) (<a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="AAC_tactics.AAC.html#u:187"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="AAC_tactics.AAC.html#n:188"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="AAC_tactics.AAC.html#l:189"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_op"><span class="id" title="constructor">Is_op</span></a> <span class="id" title="var">l'</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a> (<a class="idref" href="AAC_tactics.Utils.html#merge_msets"><span class="id" title="definition">merge_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset"><span class="id" title="definition">copy_mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:188"><span class="id" title="variable">n</span></a> <span class="id" title="var">l'</span>) <a class="idref" href="AAC_tactics.AAC.html#l:189"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_unit"><span class="id" title="constructor">Is_unit</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#l:189"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.norm_msets_" class="idref" href="#Internal.norm_msets_"><span class="id" title="definition">norm_msets_</span></a> <a id="norm:190" class="idref" href="#norm:190"><span class="id" title="binder">norm</span></a>  (<a id="l:191" class="idref" href="#l:191"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.Utils.html#fold_map'"><span class="id" title="definition">fold_map'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="un:195" class="idref" href="#un:195"><span class="id" title="binder">un</span></a> =&gt; <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="AAC_tactics.AAC.html#un:195"><span class="id" title="variable">un</span></a> <span class="id" title="tactic">in</span>  <a class="idref" href="AAC_tactics.AAC.html#Internal.return_sum"><span class="id" title="definition">return_sum</span></a>  (<a class="idref" href="AAC_tactics.AAC.html#norm:190"><span class="id" title="variable">norm</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="un:192" class="idref" href="#un:192"><span class="id" title="binder">un</span></a> <a id="l:193" class="idref" href="#l:193"><span class="id" title="binder">l</span></a> =&gt; <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="AAC_tactics.AAC.html#un:192"><span class="id" title="variable">un</span></a> <span class="id" title="tactic">in</span>  <a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_sum"><span class="id" title="definition">add_to_sum</span></a>  (<a class="idref" href="AAC_tactics.AAC.html#norm:190"><span class="id" title="variable">norm</span></a> <span class="id" title="var">u</span>) <span class="id" title="var">n</span> <a class="idref" href="AAC_tactics.AAC.html#l:193"><span class="id" title="variable">l</span></a>) <a class="idref" href="AAC_tactics.AAC.html#l:191"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sums"><span class="id" title="section">sums</span></a>.<br/>

<br/>
</div>

<div class="doc">
Similar functions for products 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Internal.s.prds" class="idref" href="#Internal.s.prds"><span class="id" title="section">prds</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.prds.i" class="idref" href="#Internal.s.prds.i"><span class="id" title="variable">i</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.prds.is_unit" class="idref" href="#Internal.s.prds.is_unit"><span class="id" title="variable">is_unit</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.prd'" class="idref" href="#Internal.prd'"><span class="id" title="definition">prd'</span></a>  (<a id="u:201" class="idref" href="#u:201"><span class="id" title="binder">u</span></a>: <a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#u:201"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">u</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#u:201"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prds.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:201"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.is_prd" class="idref" href="#Internal.is_prd"><span class="id" title="definition">is_prd</span></a> (<a id="u:203" class="idref" href="#u:203"><span class="id" title="binder">u</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) : @<a class="idref" href="AAC_tactics.AAC.html#Internal.discr"><span class="id" title="inductive">discr</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#u:203"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <span class="id" title="var">j</span> <span class="id" title="var">l</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="AAC_tactics.Utils.html#eq_idx_bool"><span class="id" title="definition">eq_idx_bool</span></a> <span class="id" title="var">j</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prds.i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_op"><span class="id" title="constructor">Is_op</span></a> <span class="id" title="var">l</span> <span class="id" title="keyword">else</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">j</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prds.is_unit"><span class="id" title="variable">is_unit</span></a> <span class="id" title="var">j</span>  <span class="id" title="keyword">then</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_unit"><span class="id" title="constructor">Is_unit</span></a> <span class="id" title="var">j</span> <span class="id" title="keyword">else</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.return_prd" class="idref" href="#Internal.return_prd"><span class="id" title="definition">return_prd</span></a> <a id="u:205" class="idref" href="#u:205"><span class="id" title="binder">u</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_prd"><span class="id" title="definition">is_prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:205"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="AAC_tactics.AAC.html#u:205"><span class="id" title="variable">u</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_op"><span class="id" title="constructor">Is_op</span></a> <span class="id" title="var">l'</span> =&gt;  <a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> (<span class="id" title="var">l'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_unit"><span class="id" title="constructor">Is_unit</span></a> <span class="id" title="var">j</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">j</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.add_to_prd" class="idref" href="#Internal.add_to_prd"><span class="id" title="definition">add_to_prd</span></a> <a id="u:206" class="idref" href="#u:206"><span class="id" title="binder">u</span></a> (<a id="l:207" class="idref" href="#l:207"><span class="id" title="binder">l</span></a> : @<a class="idref" href="AAC_tactics.AAC.html#Internal.m"><span class="id" title="inductive">m</span></a> <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>))  :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_prd"><span class="id" title="definition">is_prd</span></a>  <a class="idref" href="AAC_tactics.AAC.html#u:206"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a> (@<a class="idref" href="AAC_tactics.Utils.html#appne"><span class="id" title="definition">appne</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) (<a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="AAC_tactics.AAC.html#u:206"><span class="id" title="variable">u</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#l:207"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_op"><span class="id" title="constructor">Is_op</span></a> <span class="id" title="var">l'</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a> (@<a class="idref" href="AAC_tactics.Utils.html#appne"><span class="id" title="definition">appne</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) (<span class="id" title="var">l'</span>) <a class="idref" href="AAC_tactics.AAC.html#l:207"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.Is_unit"><span class="id" title="constructor">Is_unit</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#l:207"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.norm_lists_" class="idref" href="#Internal.norm_lists_"><span class="id" title="definition">norm_lists_</span></a> <a id="norm:208" class="idref" href="#norm:208"><span class="id" title="binder">norm</span></a> (<a id="l:209" class="idref" href="#l:209"><span class="id" title="binder">l</span></a> : <a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.Utils.html#fold_map'"><span class="id" title="definition">fold_map'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="u:212" class="idref" href="#u:212"><span class="id" title="binder">u</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.return_prd"><span class="id" title="definition">return_prd</span></a>  (<a class="idref" href="AAC_tactics.AAC.html#norm:208"><span class="id" title="variable">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:212"><span class="id" title="variable">u</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="u:210" class="idref" href="#u:210"><span class="id" title="binder">u</span></a> <a id="l:211" class="idref" href="#l:211"><span class="id" title="binder">l</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_prd"><span class="id" title="definition">add_to_prd</span></a> (<a class="idref" href="AAC_tactics.AAC.html#norm:208"><span class="id" title="variable">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:210"><span class="id" title="variable">u</span></a>) <a class="idref" href="AAC_tactics.AAC.html#l:211"><span class="id" title="variable">l</span></a>) <a class="idref" href="AAC_tactics.AAC.html#l:209"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prds"><span class="id" title="section">prds</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.run_list" class="idref" href="#Internal.run_list"><span class="id" title="definition">run_list</span></a> <a id="x:213" class="idref" href="#x:213"><span class="id" title="binder">x</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#x:213"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">l</span> =&gt; <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.norm_lists" class="idref" href="#Internal.norm_lists"><span class="id" title="definition">norm_lists</span></a> <a id="norm:215" class="idref" href="#norm:215"><span class="id" title="binder">norm</span></a> <a id="i:216" class="idref" href="#i:216"><span class="id" title="binder">i</span></a> <a id="l:217" class="idref" href="#l:217"><span class="id" title="binder">l</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="is_unit:218" class="idref" href="#is_unit:218"><span class="id" title="binder">is_unit</span></a> := <a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:216"><span class="id" title="variable">i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.run_list"><span class="id" title="definition">run_list</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_lists_"><span class="id" title="definition">norm_lists_</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:216"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#is_unit:218"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#norm:215"><span class="id" title="variable">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:217"><span class="id" title="variable">l</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.run_msets" class="idref" href="#Internal.run_msets"><span class="id" title="definition">run_msets</span></a> <a id="x:219" class="idref" href="#x:219"><span class="id" title="binder">x</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#x:219"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">n</span> =&gt; <a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#xH"><span class="id" title="constructor">xH</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">l</span> =&gt; <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Internal.norm_msets" class="idref" href="#Internal.norm_msets"><span class="id" title="definition">norm_msets</span></a> <a id="norm:221" class="idref" href="#norm:221"><span class="id" title="binder">norm</span></a> <a id="i:222" class="idref" href="#i:222"><span class="id" title="binder">i</span></a> <a id="l:223" class="idref" href="#l:223"><span class="id" title="binder">l</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="is_unit:224" class="idref" href="#is_unit:224"><span class="id" title="binder">is_unit</span></a> := <a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:222"><span class="id" title="variable">i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.run_msets"><span class="id" title="definition">run_msets</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_msets_"><span class="id" title="definition">norm_msets_</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:222"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#is_unit:224"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#norm:221"><span class="id" title="variable">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:223"><span class="id" title="variable">l</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Internal.norm" class="idref" href="#Internal.norm"><span class="id" title="definition">norm</span></a> <a id="u:225" class="idref" href="#u:225"><span class="id" title="binder">u</span></a> {<span class="id" title="keyword">struct</span> <span class="id" title="var">u</span>}:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#u:225"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_commutative"><span class="id" title="definition">is_commutative</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_idempotent"><span class="id" title="definition">is_idempotent</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.sum'"><span class="id" title="definition">sum'</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.Utils.html#reduce_mset"><span class="id" title="definition">reduce_mset</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_msets"><span class="id" title="definition">norm_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#norm:228"><span class="id" title="definition">norm</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.sum'"><span class="id" title="definition">sum'</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_msets"><span class="id" title="definition">norm_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#norm:228"><span class="id" title="definition">norm</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="AAC_tactics.AAC.html#u:225"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.prd'"><span class="id" title="definition">prd'</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_lists"><span class="id" title="definition">norm_lists</span></a> <a class="idref" href="AAC_tactics.AAC.html#norm:228"><span class="id" title="definition">norm</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.sym"><span class="id" title="constructor">sym</span></a> <span class="id" title="var">i</span> <span class="id" title="var">l</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.sym"><span class="id" title="constructor">sym</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.AAC.html#vnorm:229"><span class="id" title="definition">vnorm</span></a> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">i</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="Internal.vnorm" class="idref" href="#Internal.vnorm"><span class="id" title="definition">vnorm</span></a> <a id="i:226" class="idref" href="#i:226"><span class="id" title="binder">i</span></a> (<a id="l:227" class="idref" href="#l:227"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.vT"><span class="id" title="inductive">vT</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:226"><span class="id" title="variable">i</span></a>): <a class="idref" href="AAC_tactics.AAC.html#Internal.vT"><span class="id" title="inductive">vT</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:226"><span class="id" title="variable">i</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="AAC_tactics.AAC.html#l:227"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.vnil"><span class="id" title="constructor">vnil</span></a> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.vnil"><span class="id" title="constructor">vnil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="AAC_tactics.AAC.html#Internal.vcons"><span class="id" title="constructor">vcons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">u</span> <span class="id" title="var">l</span> =&gt; <a class="idref" href="AAC_tactics.AAC.html#Internal.vcons"><span class="id" title="constructor">vcons</span></a> (<a class="idref" href="AAC_tactics.AAC.html#norm:228"><span class="id" title="definition">norm</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="AAC_tactics.AAC.html#vnorm:229"><span class="id" title="definition">vnorm</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:227"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab16"></a><h3 class="section">Correctness</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.is_unit_of_Unit" class="idref" href="#Internal.is_unit_of_Unit"><span class="id" title="lemma">is_unit_of_Unit</span></a>  : <span class="id" title="keyword">forall</span> <a id="i:232" class="idref" href="#i:232"><span class="id" title="binder">i</span></a> <a id="j:233" class="idref" href="#j:233"><span class="id" title="binder">j</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a>,<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:232"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:233"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Unit"><span class="id" title="class">Unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:232"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:233"><span class="id" title="variable">j</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">existsb_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [<span class="id" title="var">H</span> <span class="id" title="var">H'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H'</span> ; <span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.Utils.html#eq_idx_spec"><span class="id" title="lemma">eq_idx_spec</span></a>); [<span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span> <span class="id" title="var">_</span> ; <span class="id" title="tactic">subst</span>| <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Internal.Binvalue_Commutative" class="idref" href="#Internal.Binvalue_Commutative"><span class="id" title="instance">Binvalue_Commutative</span></a> <a id="i:234" class="idref" href="#i:234"><span class="id" title="binder">i</span></a> (<a id="H:235" class="idref" href="#H:235"><span class="id" title="binder">H</span></a> :  <a class="idref" href="AAC_tactics.AAC.html#Internal.is_commutative"><span class="id" title="definition">is_commutative</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:234"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Commutative"><span class="id" title="class">Commutative</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a>  (@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:234"><span class="id" title="variable">i</span></a>) ).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_commutative"><span class="id" title="definition">is_commutative</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.comm"><span class="id" title="projection">Bin.comm</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Internal.Binvalue_Idempotent" class="idref" href="#Internal.Binvalue_Idempotent"><span class="id" title="instance">Binvalue_Idempotent</span></a> <a id="i:236" class="idref" href="#i:236"><span class="id" title="binder">i</span></a> (<a id="H:237" class="idref" href="#H:237"><span class="id" title="binder">H</span></a> :  <a class="idref" href="AAC_tactics.AAC.html#Internal.is_idempotent"><span class="id" title="definition">is_idempotent</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:236"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Idempotent"><span class="id" title="class">Idempotent</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a>  (@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:236"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_idempotent"><span class="id" title="definition">is_idempotent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.idem"><span class="id" title="projection">Bin.idem</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Internal.Binvalue_Associative" class="idref" href="#Internal.Binvalue_Associative"><span class="id" title="instance">Binvalue_Associative</span></a> <a id="i:238" class="idref" href="#i:238"><span class="id" title="binder">i</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Associative"><span class="id" title="class">Associative</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:238"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> ((<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Internal.Binvalue_Proper" class="idref" href="#Internal.Binvalue_Proper"><span class="id" title="instance">Binvalue_Proper</span></a> <a id="i:239" class="idref" href="#i:239"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a>) (@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:239"><span class="id" title="variable">i</span></a>) ).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> ((<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">Binvalue_Proper</span> <span class="id" title="var">Binvalue_Associative</span> <span class="id" title="var">Binvalue_Commutative</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Resolve</span> <span class="id" title="var">is_unit_of_Unit</span> : <span class="id" title="var">core</span>.<br/>

<br/>
</div>

<div class="doc">
Auxiliary lemmas about sums 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Internal.s.sum_correctness" class="idref" href="#Internal.s.sum_correctness"><span class="id" title="section">sum_correctness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.sum_correctness.i" class="idref" href="#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.sum_correctness.is_unit" class="idref" href="#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a id="Internal.s.sum_correctness.is_unit_sum_Unit" class="idref" href="#Internal.s.sum_correctness.is_unit_sum_Unit"><span class="id" title="variable">is_unit_sum_Unit</span></a> : <span class="id" title="keyword">forall</span> <a id="j:244" class="idref" href="#j:244"><span class="id" title="binder">j</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:244"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Unit"><span class="id" title="class">Unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:244"><span class="id" title="variable">j</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Internal.is_sum_spec_ind" class="idref" href="#Internal.is_sum_spec_ind"><span class="id" title="definition, inductive"><span id="Internal.is_sum_spec_ind_ind" class="id"><span id="Internal.is_sum_spec_ind_sind" class="id">is_sum_spec_ind</span></span></span></a> : <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>  @<a class="idref" href="AAC_tactics.AAC.html#Internal.discr"><span class="id" title="inductive">discr</span></a> (<a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.is_sum_spec_op" class="idref" href="#Internal.is_sum_spec_op"><span class="id" title="constructor">is_sum_spec_op</span></a> : <span class="id" title="keyword">forall</span> <a id="j:249" class="idref" href="#j:249"><span class="id" title="binder">j</span></a> <a id="l:250" class="idref" href="#l:250"><span class="id" title="binder">l</span></a>, <a class="idref" href="AAC_tactics.AAC.html#j:249"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#is_sum_spec_ind:247"><span class="id" title="inductive">is_sum_spec_ind</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:249"><span class="id" title="variable">j</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:250"><span class="id" title="variable">l</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.Is_op"><span class="id" title="constructor">Is_op</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:250"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.is_sum_spec_unit" class="idref" href="#Internal.is_sum_spec_unit"><span class="id" title="constructor">is_sum_spec_unit</span></a> : <span class="id" title="keyword">forall</span> <a id="j:251" class="idref" href="#j:251"><span class="id" title="binder">j</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:251"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="AAC_tactics.AAC.html#is_sum_spec_ind:247"><span class="id" title="inductive">is_sum_spec_ind</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:251"><span class="id" title="variable">j</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.Is_unit"><span class="id" title="constructor">Is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:251"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.is_sum_spec_nothing" class="idref" href="#Internal.is_sum_spec_nothing"><span class="id" title="constructor">is_sum_spec_nothing</span></a> : <span class="id" title="keyword">forall</span> <a id="u:252" class="idref" href="#u:252"><span class="id" title="binder">u</span></a>, <a class="idref" href="AAC_tactics.AAC.html#is_sum_spec_ind:247"><span class="id" title="inductive">is_sum_spec_ind</span></a>  <a class="idref" href="AAC_tactics.AAC.html#u:252"><span class="id" title="variable">u</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.is_sum_spec" class="idref" href="#Internal.is_sum_spec"><span class="id" title="lemma">is_sum_spec</span></a> <a id="u:253" class="idref" href="#u:253"><span class="id" title="binder">u</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Internal.is_sum_spec_ind"><span class="id" title="inductive">is_sum_spec_ind</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:253"><span class="id" title="variable">u</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_sum"><span class="id" title="definition">is_sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:253"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_sum"><span class="id" title="definition">is_sum</span></a>; <span class="id" title="tactic">case</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="AAC_tactics.Utils.html#eq_idx_bool"><span class="id" title="definition">eq_idx_bool</span></a> <span class="id" title="var">p</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>;  <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> <a class="idref" href="AAC_tactics.Utils.html#eq_idx_spec"><span class="id" title="lemma">eq_idx_spec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <span class="id" title="var">p</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Internal.assoc" class="idref" href="#Internal.assoc"><span class="id" title="instance">assoc</span></a> : @<a class="idref" href="AAC_tactics.AAC.html#Associative"><span class="id" title="class">Associative</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Internal.proper" class="idref" href="#Internal.proper"><span class="id" title="instance">proper</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a>)(<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a id="Internal.s.sum_correctness.comm" class="idref" href="#Internal.s.sum_correctness.comm"><span class="id" title="variable">comm</span></a> : @<a class="idref" href="AAC_tactics.AAC.html#Commutative"><span class="id" title="class">Commutative</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.sum'_sum" class="idref" href="#Internal.sum'_sum"><span class="id" title="lemma">sum'_sum</span></a> : <span class="id" title="keyword">forall</span> (<a id="l:256" class="idref" href="#l:256"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>), <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum'"><span class="id" title="definition">sum'</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:256"><span class="id" title="variable">l</span></a>) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:256"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">a</span> <span class="id" title="var">n</span>] | [<span class="id" title="var">a</span> <span class="id" title="var">n</span>] <span class="id" title="var">l</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>;  <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.eval_sum_nil" class="idref" href="#Internal.eval_sum_nil"><span class="id" title="lemma">eval_sum_nil</span></a> <a id="x:257" class="idref" href="#x:257"><span class="id" title="binder">x</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="AAC_tactics.AAC.html#x:257"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Numbers.BinNums.html#xH"><span class="id" title="constructor">xH</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">(</span></a><a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:257"><span class="id" title="variable">x</span></a><a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="AAC_tactics.AAC.html#Internal.sum'_sum"><span class="id" title="lemma">sum'_sum</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.eval_sum_cons" class="idref" href="#Internal.eval_sum_cons"><span class="id" title="lemma">eval_sum_cons</span></a> : <span class="id" title="keyword">forall</span> <a id="n:258" class="idref" href="#n:258"><span class="id" title="binder">n</span></a> <a id="a:259" class="idref" href="#a:259"><span class="id" title="binder">a</span></a> (<a id="l:260" class="idref" href="#l:260"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">(</span></a><a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="AAC_tactics.AAC.html#a:259"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="AAC_tactics.AAC.html#n:258"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="AAC_tactics.Utils.html#:::x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="AAC_tactics.AAC.html#l:260"><span class="id" title="variable">l</span></a>))<a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">)</span></a> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">(</span></a>@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#n:258"><span class="id" title="variable">n</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#a:259"><span class="id" title="variable">a</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:260"><span class="id" title="variable">l</span></a>))<a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">a</span> [[? ? ]|[<span class="id" title="var">b</span> <span class="id" title="var">m</span>] <span class="id" title="var">l</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Internal.compat_sum_unit" class="idref" href="#Internal.compat_sum_unit"><span class="id" title="definition, inductive"><span id="Internal.compat_sum_unit_ind" class="id"><span id="Internal.compat_sum_unit_sind" class="id">compat_sum_unit</span></span></span></a> : @<a class="idref" href="AAC_tactics.AAC.html#Internal.m"><span class="id" title="inductive">m</span></a> <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> (<a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.csu_left" class="idref" href="#Internal.csu_left"><span class="id" title="constructor">csu_left</span></a> : <span class="id" title="keyword">forall</span> <a id="x:263" class="idref" href="#x:263"><span class="id" title="binder">x</span></a>,  <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:263"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="AAC_tactics.AAC.html#compat_sum_unit:261"><span class="id" title="inductive">compat_sum_unit</span></a>  (<a class="idref" href="AAC_tactics.AAC.html#Internal.left"><span class="id" title="constructor">left</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:263"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.csu_right" class="idref" href="#Internal.csu_right"><span class="id" title="constructor">csu_right</span></a> : <span class="id" title="keyword">forall</span> <a id="m:264" class="idref" href="#m:264"><span class="id" title="binder">m</span></a>, <a class="idref" href="AAC_tactics.AAC.html#compat_sum_unit:261"><span class="id" title="inductive">compat_sum_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> <a class="idref" href="AAC_tactics.AAC.html#m:264"><span class="id" title="variable">m</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.compat_sum_unit_return" class="idref" href="#Internal.compat_sum_unit_return"><span class="id" title="lemma">compat_sum_unit_return</span></a> <a id="x:265" class="idref" href="#x:265"><span class="id" title="binder">x</span></a> <a id="n:266" class="idref" href="#n:266"><span class="id" title="binder">n</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit"><span class="id" title="inductive">compat_sum_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.return_sum"><span class="id" title="definition">return_sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:265"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:266"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.return_sum"><span class="id" title="definition">return_sum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_sum_spec"><span class="id" title="lemma">is_sum_spec</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.compat_sum_unit_add" class="idref" href="#Internal.compat_sum_unit_add"><span class="id" title="lemma">compat_sum_unit_add</span></a> : <span class="id" title="keyword">forall</span> <a id="x:267" class="idref" href="#x:267"><span class="id" title="binder">x</span></a> <a id="n:268" class="idref" href="#n:268"><span class="id" title="binder">n</span></a> <a id="h:269" class="idref" href="#h:269"><span class="id" title="binder">h</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit"><span class="id" title="inductive">compat_sum_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:269"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit"><span class="id" title="inductive">compat_sum_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_sum"><span class="id" title="definition">add_to_sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:267"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:268"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:269"><span class="id" title="variable">h</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_sum"><span class="id" title="definition">add_to_sum</span></a>;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span>  (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_sum"><span class="id" title="definition">is_sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>) <span class="id" title="var">x</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span> || <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Hint&nbsp;Resolve&nbsp;copy_plus.&nbsp;:&nbsp;this&nbsp;lags&nbsp;because&nbsp;of&nbsp;the&nbsp;inference&nbsp;of&nbsp;the&nbsp;implicit&nbsp;arguments&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 5 (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> (?<span class="id" title="var">n</span> <span class="id" title="notation">+</span> ?<span class="id" title="var">m</span>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> ?<span class="id" title="var">a</span>) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> ?<span class="id" title="var">n</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> ?<span class="id" title="var">a</span>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> ?<span class="id" title="var">m</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> ?<span class="id" title="var">a</span>))) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_plus"><span class="id" title="lemma">copy_plus</span></a> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 5 (?<span class="id" title="var">x</span> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> ?<span class="id" title="var">x</span>) =&gt; <span class="id" title="tactic">reflexivity</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 5 ( <a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> ?<span class="id" title="var">y</span> ?<span class="id" title="var">x</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.comm"><span class="id" title="projection">Bin.comm</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.eval_merge_bin" class="idref" href="#Internal.eval_merge_bin"><span class="id" title="lemma">eval_merge_bin</span></a> : <span class="id" title="keyword">forall</span> (<a id="h:270" class="idref" href="#h:270"><span class="id" title="binder">h</span></a> <a id="k:271" class="idref" href="#k:271"><span class="id" title="binder">k</span></a>: <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.Utils.html#merge_msets"><span class="id" title="definition">merge_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:270"><span class="id" title="variable">h</span></a> <a class="idref" href="AAC_tactics.AAC.html#k:271"><span class="id" title="variable">k</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:270"><span class="id" title="variable">h</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#k:271"><span class="id" title="variable">k</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">a</span> <span class="id" title="var">n</span>]|[<span class="id" title="var">a</span> <span class="id" title="var">n</span>] <span class="id" title="var">h</span> <span class="id" title="var">IHh</span>]; <span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">b</span> <span class="id" title="var">m</span>]|[<span class="id" title="var">b</span> <span class="id" title="var">m</span>] <span class="id" title="var">k</span> <span class="id" title="var">IHk</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.tcompare_weak_spec"><span class="id" title="definition">tcompare_weak_spec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span>|<span class="id" title="var">a</span> <span class="id" title="var">b</span>|<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_plus"><span class="id" title="lemma">copy_plus</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.tcompare_weak_spec"><span class="id" title="definition">tcompare_weak_spec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span>|<span class="id" title="var">a</span> <span class="id" title="var">b</span>|<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_plus"><span class="id" title="lemma">copy_plus</span></a>,<a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHk</span>;  <span class="id" title="tactic">clear</span> <span class="id" title="var">IHk</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.proper"><span class="id" title="instance">proper</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#law_comm"><span class="id" title="definition">law_comm</span></a>|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">b</span> <span class="id" title="var">m</span>]|[<span class="id" title="var">b</span> <span class="id" title="var">m</span>] <span class="id" title="var">k</span> <span class="id" title="var">IHk</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.tcompare_weak_spec"><span class="id" title="definition">tcompare_weak_spec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span>|<span class="id" title="var">a</span> <span class="id" title="var">b</span>|<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>  (<a class="idref" href="AAC_tactics.AAC.html#law_comm"><span class="id" title="definition">law_comm</span></a> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <span class="id" title="var">m</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>, &lt;- <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_plus"><span class="id" title="lemma">copy_plus</span></a>, <span class="id" title="abbreviation">Pplus_comm</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>, <span class="id" title="var">IHh</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_comm"><span class="id" title="definition">law_comm</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.tcompare_weak_spec"><span class="id" title="definition">tcompare_weak_spec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span>|<span class="id" title="var">a</span> <span class="id" title="var">b</span>|<span class="id" title="var">a</span> <span class="id" title="var">b</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHh</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHh</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="AAC_tactics.AAC.html#law_comm"><span class="id" title="definition">law_comm</span></a> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <span class="id" title="var">m</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>, &lt;- <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_plus"><span class="id" title="lemma">copy_plus</span></a>,  <span class="id" title="abbreviation">Pplus_comm</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHh</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHh</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 (<a class="idref" href="AAC_tactics.AAC.html#law_comm"><span class="id" title="definition">law_comm</span></a>  (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <span class="id" title="var">m</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">b</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.proper"><span class="id" title="instance">proper</span></a>; [ | <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHk</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.copy_mset'" class="idref" href="#Internal.copy_mset'"><span class="id" title="lemma">copy_mset'</span></a> <a id="n:272" class="idref" href="#n:272"><span class="id" title="binder">n</span></a> (<a id="l:273" class="idref" href="#l:273"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset"><span class="id" title="definition">copy_mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:272"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:273"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="AAC_tactics.Utils.html#nelist_map"><span class="id" title="definition">nelist_map</span></a> (<span class="id" title="keyword">fun</span> <a id="vm:274" class="idref" href="#vm:274"><span class="id" title="binder">vm</span></a> =&gt; <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>:=<a class="idref" href="AAC_tactics.AAC.html#vm:274"><span class="id" title="variable">vm</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="abbreviation">Pmult</span> <a class="idref" href="AAC_tactics.AAC.html#n:272"><span class="id" title="variable">n</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="AAC_tactics.AAC.html#l:273"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset"><span class="id" title="definition">copy_mset</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">a</span> <span class="id" title="var">l</span>] <span class="id" title="var">IHl</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.copy_mset_succ" class="idref" href="#Internal.copy_mset_succ"><span class="id" title="lemma">copy_mset_succ</span></a>  <a id="n:276" class="idref" href="#n:276"><span class="id" title="binder">n</span></a> (<a id="l:277" class="idref" href="#l:277"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset"><span class="id" title="definition">copy_mset</span></a> (<span class="id" title="definition">Pos.succ</span> <a class="idref" href="AAC_tactics.AAC.html#n:276"><span class="id" title="variable">n</span></a>) <a class="idref" href="AAC_tactics.AAC.html#l:277"><span class="id" title="variable">l</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:277"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset"><span class="id" title="definition">copy_mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:276"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:277"><span class="id" title="variable">l</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset'"><span class="id" title="lemma">copy_mset'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">a</span> <span class="id" title="var">m</span>]|[<span class="id" title="var">a</span> <span class="id" title="var">m</span>] <span class="id" title="var">l</span> <span class="id" title="var">IHl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_plus"><span class="id" title="lemma">copy_plus</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">Pmult_Sn_m</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <a class="idref" href="AAC_tactics.Utils.html#nelist_map"><span class="id" title="definition">nelist_map</span></a>. <span class="id" title="tactic">rewrite</span> ! <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_sum_cons"><span class="id" title="lemma">eval_sum_cons</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">Pmult_Sn_m</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_plus"><span class="id" title="lemma">copy_plus</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.Binvalue_Proper"><span class="id" title="instance">Binvalue_Proper</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_comm"><span class="id" title="definition">law_comm</span></a> . <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.proper"><span class="id" title="instance">proper</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#law_comm"><span class="id" title="definition">law_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.copy_mset_copy" class="idref" href="#Internal.copy_mset_copy"><span class="id" title="lemma">copy_mset_copy</span></a> : <span class="id" title="keyword">forall</span> <a id="n:278" class="idref" href="#n:278"><span class="id" title="binder">n</span></a>  (<a id="m:279" class="idref" href="#m:279"><span class="id" title="binder">m</span></a> : <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>), <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset"><span class="id" title="definition">copy_mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:278"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#m:279"><span class="id" title="variable">m</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#n:278"><span class="id" title="variable">n</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#m:279"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">using</span> <span class="id" title="abbreviation">Pind</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset"><span class="id" title="definition">copy_mset</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_xH"><span class="id" title="lemma">copy_xH</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset_succ"><span class="id" title="lemma">copy_mset_succ</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_Psucc"><span class="id" title="lemma">copy_Psucc</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Internal.compat_sum_unit_Unit" class="idref" href="#Internal.compat_sum_unit_Unit"><span class="id" title="instance">compat_sum_unit_Unit</span></a> : <span class="id" title="keyword">forall</span> <a id="p:280" class="idref" href="#p:280"><span class="id" title="binder">p</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit"><span class="id" title="inductive">compat_sum_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.left"><span class="id" title="constructor">left</span></a> <a class="idref" href="AAC_tactics.AAC.html#p:280"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Unit"><span class="id" title="class">Unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#p:280"><span class="id" title="variable">p</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.copy_n_unit" class="idref" href="#Internal.copy_n_unit"><span class="id" title="lemma">copy_n_unit</span></a> : <span class="id" title="keyword">forall</span> <a id="j:281" class="idref" href="#j:281"><span class="id" title="binder">j</span></a> <a id="n:282" class="idref" href="#n:282"><span class="id" title="binder">n</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:281"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:281"><span class="id" title="variable">j</span></a>) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> @<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#n:282"><span class="id" title="variable">n</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:281"><span class="id" title="variable">j</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">using</span> <span class="id" title="abbreviation">Prect</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_xH"><span class="id" title="lemma">copy_xH</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_Psucc"><span class="id" title="lemma">copy_Psucc</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit_sum_Unit"><span class="id" title="variable">is_unit_sum_Unit</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_neutral_left"><span class="id" title="method">law_neutral_left</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.z0" class="idref" href="#Internal.z0"><span class="id" title="lemma">z0</span></a> <a id="l:283" class="idref" href="#l:283"><span class="id" title="binder">l</span></a> <a id="r:284" class="idref" href="#r:284"><span class="id" title="binder">r</span></a> (<a id="H:285" class="idref" href="#H:285"><span class="id" title="binder">H</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit"><span class="id" title="inductive">compat_sum_unit</span></a>  <a class="idref" href="AAC_tactics.AAC.html#r:284"><span class="id" title="variable">r</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_msets"><span class="id" title="definition">run_msets</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a> (<a class="idref" href="AAC_tactics.Utils.html#merge_msets"><span class="id" title="definition">merge_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a>) <a class="idref" href="AAC_tactics.AAC.html#l:283"><span class="id" title="variable">l</span></a> <a class="idref" href="AAC_tactics.AAC.html#r:284"><span class="id" title="variable">r</span></a>))) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> ((<a class="idref" href="AAC_tactics.Utils.html#merge_msets"><span class="id" title="definition">merge_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#l:283"><span class="id" title="variable">l</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_msets"><span class="id" title="definition">run_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#r:284"><span class="id" title="variable">r</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.run_msets"><span class="id" title="definition">run_msets</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_merge_bin"><span class="id" title="lemma">eval_merge_bin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_sum_nil"><span class="id" title="lemma">eval_sum_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit_Unit"><span class="id" title="instance">compat_sum_unit_Unit</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_neutral_right"><span class="id" title="method">law_neutral_right</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.z1" class="idref" href="#Internal.z1"><span class="id" title="lemma">z1</span></a> : <span class="id" title="keyword">forall</span> <a id="n:286" class="idref" href="#n:286"><span class="id" title="binder">n</span></a> <a id="x:287" class="idref" href="#x:287"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_msets"><span class="id" title="definition">run_msets</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.return_sum"><span class="id" title="definition">return_sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a>) <a class="idref" href="AAC_tactics.AAC.html#x:287"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:286"><span class="id" title="variable">n</span></a> ))) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#n:286"><span class="id" title="variable">n</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:287"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.return_sum"><span class="id" title="definition">return_sum</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.run_msets"><span class="id" title="definition">run_msets</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_sum_spec"><span class="id" title="lemma">is_sum_spec</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset_copy"><span class="id" title="lemma">copy_mset_copy</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_sum_nil"><span class="id" title="lemma">eval_sum_nil</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_n_unit"><span class="id" title="lemma">copy_n_unit</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.z2" class="idref" href="#Internal.z2"><span class="id" title="lemma">z2</span></a> : <span class="id" title="keyword">forall</span>  <a id="u:288" class="idref" href="#u:288"><span class="id" title="binder">u</span></a> <a id="n:289" class="idref" href="#n:289"><span class="id" title="binder">n</span></a> <a id="x:290" class="idref" href="#x:290"><span class="id" title="binder">x</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit"><span class="id" title="inductive">compat_sum_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_msets"><span class="id" title="definition">run_msets</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_sum"><span class="id" title="definition">add_to_sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit"><span class="id" title="variable">is_unit</span></a>) <a class="idref" href="AAC_tactics.AAC.html#u:288"><span class="id" title="variable">u</span></a> <a class="idref" href="AAC_tactics.AAC.html#n:289"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:290"><span class="id" title="variable">x</span></a>))) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#n:289"><span class="id" title="variable">n</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:288"><span class="id" title="variable">u</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_msets"><span class="id" title="definition">run_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:290"><span class="id" title="variable">x</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">Hix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_sum"><span class="id" title="definition">add_to_sum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_sum_spec"><span class="id" title="lemma">is_sum_spec</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.z0"><span class="id" title="lemma">z0</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_merge_bin"><span class="id" title="lemma">eval_merge_bin</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_mset_copy"><span class="id" title="lemma">copy_mset_copy</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_n_unit"><span class="id" title="lemma">copy_n_unit</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness.is_unit_sum_Unit"><span class="id" title="variable">is_unit_sum_Unit</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_neutral_left"><span class="id" title="method">law_neutral_left</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.z0"><span class="id" title="lemma">z0</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_merge_bin"><span class="id" title="lemma">eval_merge_bin</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.sum_correctness"><span class="id" title="section">sum_correctness</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.eval_norm_msets" class="idref" href="#Internal.eval_norm_msets"><span class="id" title="lemma">eval_norm_msets</span></a> <a id="i:291" class="idref" href="#i:291"><span class="id" title="binder">i</span></a> <a id="norm:292" class="idref" href="#norm:292"><span class="id" title="binder">norm</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Comm:293" class="idref" href="#Comm:293"><span class="id" title="binder">Comm</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Commutative"><span class="id" title="class">Commutative</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:291"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hnorm:295" class="idref" href="#Hnorm:295"><span class="id" title="binder">Hnorm</span></a>: <span class="id" title="keyword">forall</span> <a id="u:294" class="idref" href="#u:294"><span class="id" title="binder">u</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#norm:292"><span class="id" title="variable">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:294"><span class="id" title="variable">u</span></a>) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:294"><span class="id" title="variable">u</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="h:296" class="idref" href="#h:296"><span class="id" title="binder">h</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:291"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_msets"><span class="id" title="definition">norm_msets</span></a> <a class="idref" href="AAC_tactics.AAC.html#norm:292"><span class="id" title="variable">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:291"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:296"><span class="id" title="variable">h</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:291"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:296"><span class="id" title="variable">h</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.norm_msets"><span class="id" title="definition">norm_msets</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <span class="id" title="keyword">forall</span> <a id="h:297" class="idref" href="#h:297"><span class="id" title="binder"><span id="h:298" class="id">h</span></span></a> : <a class="idref" href="AAC_tactics.Utils.html#mset"><span class="id" title="definition">mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_msets"><span class="id" title="definition">run_msets</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_msets_"><span class="id" title="definition">norm_msets_</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">norm</span> <a class="idref" href="AAC_tactics.AAC.html#h:297"><span class="id" title="variable">h</span></a>))) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <span class="id" title="var">i</span> <a class="idref" href="AAC_tactics.AAC.html#h:297"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit"><span class="id" title="inductive">compat_sum_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <span class="id" title="var">i</span>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_msets_"><span class="id" title="definition">norm_msets_</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">norm</span> <a class="idref" href="AAC_tactics.AAC.html#h:297"><span class="id" title="variable">h</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">a</span> <span class="id" title="var">n</span>] | [<span class="id" title="var">a</span> <span class="id" title="var">n</span>] <span class="id" title="var">h</span> [<span class="id" title="var">IHh</span> <span class="id" title="var">IHh'</span>]]; <span class="id" title="tactic">simpl</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.norm_msets_"><span class="id" title="definition">norm_msets_</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.z1"><span class="id" title="lemma">z1</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnorm</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit_return"><span class="id" title="lemma">compat_sum_unit_return</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.z2"><span class="id" title="lemma">z2</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHh</span>, <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_sum_cons"><span class="id" title="lemma">eval_sum_cons</span></a>, <span class="id" title="var">Hnorm</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_sum_unit_add"><span class="id" title="lemma">compat_sum_unit_add</span></a>, <span class="id" title="var">IHh'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.copy_idem" class="idref" href="#Internal.copy_idem"><span class="id" title="lemma">copy_idem</span></a> <a id="i:299" class="idref" href="#i:299"><span class="id" title="binder">i</span></a> (<a id="Idem:300" class="idref" href="#Idem:300"><span class="id" title="binder">Idem</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Idempotent"><span class="id" title="class">Idempotent</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:299"><span class="id" title="variable">i</span></a>))) <a id="n:301" class="idref" href="#n:301"><span class="id" title="binder">n</span></a> <a id="x:302" class="idref" href="#x:302"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.copy"><span class="id" title="definition">copy</span></a> (<span class="id" title="var">plus</span>:=(<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:299"><span class="id" title="variable">i</span></a>))) <a class="idref" href="AAC_tactics.AAC.html#n:301"><span class="id" title="variable">n</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:302"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:302"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">using</span> <span class="id" title="definition">Pos.peano_ind</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_xH"><span class="id" title="lemma">copy_xH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.copy_Psucc"><span class="id" title="lemma">copy_Psucc</span></a>, <span class="id" title="var">IHn</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#law_idem"><span class="id" title="definition">law_idem</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.eval_reduce_msets" class="idref" href="#Internal.eval_reduce_msets"><span class="id" title="lemma">eval_reduce_msets</span></a> <a id="i:303" class="idref" href="#i:303"><span class="id" title="binder">i</span></a> (<a id="Idem:304" class="idref" href="#Idem:304"><span class="id" title="binder">Idem</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Idempotent"><span class="id" title="class">Idempotent</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:303"><span class="id" title="variable">i</span></a>))) <a id="m:305" class="idref" href="#m:305"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:303"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.Utils.html#reduce_mset"><span class="id" title="definition">reduce_mset</span></a> <a class="idref" href="AAC_tactics.AAC.html#m:305"><span class="id" title="variable">m</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.sum"><span class="id" title="constructor">sum</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:303"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#m:305"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">a</span> <span class="id" title="var">n</span>]|[<span class="id" title="var">a</span> <span class="id" title="var">n</span>] <span class="id" title="var">m</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> 2<a class="idref" href="AAC_tactics.AAC.html#Internal.copy_idem"><span class="id" title="lemma">copy_idem</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> 2<a class="idref" href="AAC_tactics.AAC.html#Internal.copy_idem"><span class="id" title="lemma">copy_idem</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Auxiliary lemmas about products 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="Internal.s.prd_correctness" class="idref" href="#Internal.s.prd_correctness"><span class="id" title="section">prd_correctness</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.prd_correctness.i" class="idref" href="#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Internal.s.prd_correctness.is_unit" class="idref" href="#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> : <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a id="Internal.s.prd_correctness.is_unit_prd_Unit" class="idref" href="#Internal.s.prd_correctness.is_unit_prd_Unit"><span class="id" title="variable">is_unit_prd_Unit</span></a> : <span class="id" title="keyword">forall</span> <a id="j:310" class="idref" href="#j:310"><span class="id" title="binder">j</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:310"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Unit"><span class="id" title="class">Unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:310"><span class="id" title="variable">j</span></a>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Internal.is_prd_spec_ind" class="idref" href="#Internal.is_prd_spec_ind"><span class="id" title="definition, inductive"><span id="Internal.is_prd_spec_ind_ind" class="id"><span id="Internal.is_prd_spec_ind_sind" class="id">is_prd_spec_ind</span></span></span></a>  : <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>  @<a class="idref" href="AAC_tactics.AAC.html#Internal.discr"><span class="id" title="inductive">discr</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.is_prd_spec_op" class="idref" href="#Internal.is_prd_spec_op"><span class="id" title="constructor">is_prd_spec_op</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="j:315" class="idref" href="#j:315"><span class="id" title="binder">j</span></a> <a id="l:316" class="idref" href="#l:316"><span class="id" title="binder">l</span></a>, <a class="idref" href="AAC_tactics.AAC.html#j:315"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#is_prd_spec_ind:313"><span class="id" title="inductive">is_prd_spec_ind</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:315"><span class="id" title="variable">j</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:316"><span class="id" title="variable">l</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.Is_op"><span class="id" title="constructor">Is_op</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:316"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.is_prd_spec_unit" class="idref" href="#Internal.is_prd_spec_unit"><span class="id" title="constructor">is_prd_spec_unit</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="j:317" class="idref" href="#j:317"><span class="id" title="binder">j</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:317"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#is_prd_spec_ind:313"><span class="id" title="inductive">is_prd_spec_ind</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:317"><span class="id" title="variable">j</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.Is_unit"><span class="id" title="constructor">Is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#j:317"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.is_prd_spec_nothing" class="idref" href="#Internal.is_prd_spec_nothing"><span class="id" title="constructor">is_prd_spec_nothing</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="u:318" class="idref" href="#u:318"><span class="id" title="binder">u</span></a>, <a class="idref" href="AAC_tactics.AAC.html#is_prd_spec_ind:313"><span class="id" title="inductive">is_prd_spec_ind</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:318"><span class="id" title="variable">u</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.Is_nothing"><span class="id" title="constructor">Is_nothing</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.is_prd_spec" class="idref" href="#Internal.is_prd_spec"><span class="id" title="lemma">is_prd_spec</span></a> <a id="u:319" class="idref" href="#u:319"><span class="id" title="binder">u</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Internal.is_prd_spec_ind"><span class="id" title="inductive">is_prd_spec_ind</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:319"><span class="id" title="variable">u</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_prd"><span class="id" title="definition">is_prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:319"><span class="id" title="variable">u</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_prd"><span class="id" title="definition">is_prd</span></a>; <span class="id" title="tactic">case</span> <span class="id" title="var">u</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.Utils.html#eq_idx_spec"><span class="id" title="lemma">eq_idx_spec</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <span class="id" title="var">p</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.prd'_prd" class="idref" href="#Internal.prd'_prd"><span class="id" title="lemma">prd'_prd</span></a> : <span class="id" title="keyword">forall</span> (<a id="l:320" class="idref" href="#l:320"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>), <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd'"><span class="id" title="definition">prd'</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:320"><span class="id" title="variable">l</span></a>) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:320"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>  [?|? [|? ?]]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.eval_prd_nil" class="idref" href="#Internal.eval_prd_nil"><span class="id" title="lemma">eval_prd_nil</span></a> <a id="x:321" class="idref" href="#x:321"><span class="id" title="binder">x</span></a>:  <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:321"><span class="id" title="variable">x</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:321"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="AAC_tactics.AAC.html#Internal.prd'_prd"><span class="id" title="lemma">prd'_prd</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.eval_prd_cons" class="idref" href="#Internal.eval_prd_cons"><span class="id" title="lemma">eval_prd_cons</span></a> <a id="a:322" class="idref" href="#a:322"><span class="id" title="binder">a</span></a> : <span class="id" title="keyword">forall</span> (<a id="l:323" class="idref" href="#l:323"><span class="id" title="binder">l</span></a>: <a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#a:322"><span class="id" title="variable">a</span></a><a class="idref" href="AAC_tactics.Utils.html#:::x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="AAC_tactics.AAC.html#l:323"><span class="id" title="variable">l</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> @<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#a:322"><span class="id" title="variable">a</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:323"><span class="id" title="variable">l</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>  [|<span class="id" title="var">b</span> <span class="id" title="var">l</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.eval_prd_app" class="idref" href="#Internal.eval_prd_app"><span class="id" title="lemma">eval_prd_app</span></a> : <span class="id" title="keyword">forall</span> (<a id="h:324" class="idref" href="#h:324"><span class="id" title="binder">h</span></a> <a id="k:325" class="idref" href="#k:325"><span class="id" title="binder">k</span></a>: <a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#h:324"><span class="id" title="variable">h</span></a><a class="idref" href="AAC_tactics.Utils.html#f03f7a04ef75ff3ac66ca5c23554e52e"><span class="id" title="notation">++</span></a><a class="idref" href="AAC_tactics.AAC.html#k:325"><span class="id" title="variable">k</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> @<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:324"><span class="id" title="variable">h</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#k:325"><span class="id" title="variable">k</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <a class="idref" href="AAC_tactics.Utils.html#appne"><span class="id" title="definition">appne</span></a>. <span class="id" title="tactic">rewrite</span>  2 <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_prd_cons"><span class="id" title="lemma">eval_prd_cons</span></a>, <span class="id" title="var">IHh</span>, <a class="idref" href="AAC_tactics.AAC.html#law_assoc"><span class="id" title="definition">law_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="Internal.compat_prd_unit" class="idref" href="#Internal.compat_prd_unit"><span class="id" title="definition, inductive"><span id="Internal.compat_prd_unit_ind" class="id"><span id="Internal.compat_prd_unit_sind" class="id">compat_prd_unit</span></span></span></a> : @<a class="idref" href="AAC_tactics.AAC.html#Internal.m"><span class="id" title="inductive">m</span></a> <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.cpu_left" class="idref" href="#Internal.cpu_left"><span class="id" title="constructor">cpu_left</span></a> : <span class="id" title="keyword">forall</span> <a id="x:328" class="idref" href="#x:328"><span class="id" title="binder">x</span></a>,  <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a>  <a class="idref" href="AAC_tactics.AAC.html#x:328"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#compat_prd_unit:326"><span class="id" title="inductive">compat_prd_unit</span></a>  (<a class="idref" href="AAC_tactics.AAC.html#Internal.left"><span class="id" title="constructor">left</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:328"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="Internal.cpu_right" class="idref" href="#Internal.cpu_right"><span class="id" title="constructor">cpu_right</span></a> : <span class="id" title="keyword">forall</span> <a id="m:329" class="idref" href="#m:329"><span class="id" title="binder">m</span></a>, <a class="idref" href="AAC_tactics.AAC.html#compat_prd_unit:326"><span class="id" title="inductive">compat_prd_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.right"><span class="id" title="constructor">right</span></a> <a class="idref" href="AAC_tactics.AAC.html#m:329"><span class="id" title="variable">m</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.compat_prd_unit_return" class="idref" href="#Internal.compat_prd_unit_return"><span class="id" title="lemma">compat_prd_unit_return</span></a> <a id="x:330" class="idref" href="#x:330"><span class="id" title="binder">x</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_unit"><span class="id" title="inductive">compat_prd_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.return_prd"><span class="id" title="definition">return_prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:330"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.return_prd"><span class="id" title="definition">return_prd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_prd_spec"><span class="id" title="lemma">is_prd_spec</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.compat_prd_unit_add" class="idref" href="#Internal.compat_prd_unit_add"><span class="id" title="lemma">compat_prd_unit_add</span></a>  : <span class="id" title="keyword">forall</span> <a id="x:331" class="idref" href="#x:331"><span class="id" title="binder">x</span></a>  <a id="h:332" class="idref" href="#h:332"><span class="id" title="binder">h</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_unit"><span class="id" title="inductive">compat_prd_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:332"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_unit"><span class="id" title="inductive">compat_prd_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_prd"><span class="id" title="definition">add_to_prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:331"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:332"><span class="id" title="variable">h</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_prd"><span class="id" title="definition">add_to_prd</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_prd_spec"><span class="id" title="lemma">is_prd_spec</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a>; <span class="id" title="tactic">case</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a>; <span class="id" title="tactic">case</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Internal.compat_prd_Unit" class="idref" href="#Internal.compat_prd_Unit"><span class="id" title="instance">compat_prd_Unit</span></a> : <span class="id" title="keyword">forall</span> <a id="p:333" class="idref" href="#p:333"><span class="id" title="binder">p</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_unit"><span class="id" title="inductive">compat_prd_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.left"><span class="id" title="constructor">left</span></a> <a class="idref" href="AAC_tactics.AAC.html#p:333"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Unit"><span class="id" title="class">Unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.unit"><span class="id" title="constructor">unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#p:333"><span class="id" title="variable">p</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit_prd_Unit"><span class="id" title="variable">is_unit_prd_Unit</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.z0'" class="idref" href="#Internal.z0'"><span class="id" title="lemma">z0'</span></a> : <span class="id" title="keyword">forall</span> <a id="l:334" class="idref" href="#l:334"><span class="id" title="binder">l</span></a> (<a id="r:335" class="idref" href="#r:335"><span class="id" title="binder">r</span></a>: @<a class="idref" href="AAC_tactics.AAC.html#Internal.m"><span class="id" title="inductive">m</span></a> <a class="idref" href="AAC_tactics.Utils.html#idx"><span class="id" title="abbreviation">idx</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>)), <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_unit"><span class="id" title="inductive">compat_prd_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#r:335"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_list"><span class="id" title="definition">run_list</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a> (@<a class="idref" href="AAC_tactics.Utils.html#appne"><span class="id" title="definition">appne</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>) <a class="idref" href="AAC_tactics.AAC.html#l:334"><span class="id" title="variable">l</span></a> <a class="idref" href="AAC_tactics.AAC.html#r:335"><span class="id" title="variable">r</span></a>))) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> ((<a class="idref" href="AAC_tactics.Utils.html#appne"><span class="id" title="definition">appne</span></a> (<a class="idref" href="AAC_tactics.AAC.html#l:334"><span class="id" title="variable">l</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_list"><span class="id" title="definition">run_list</span></a> <a class="idref" href="AAC_tactics.AAC.html#r:335"><span class="id" title="variable">r</span></a>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.comp"><span class="id" title="definition">comp</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.run_list"><span class="id" title="definition">run_list</span></a>. <span class="id" title="var">case_eq</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_prd_app"><span class="id" title="lemma">eval_prd_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_prd_nil"><span class="id" title="lemma">eval_prd_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_Unit"><span class="id" title="instance">compat_prd_Unit</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_neutral_right"><span class="id" title="method">law_neutral_right</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.z1'" class="idref" href="#Internal.z1'"><span class="id" title="lemma">z1'</span></a> <a id="a:336" class="idref" href="#a:336"><span class="id" title="binder">a</span></a> : <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_list"><span class="id" title="definition">run_list</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.return_prd"><span class="id" title="definition">return_prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#a:336"><span class="id" title="variable">a</span></a>))) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.Utils.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="AAC_tactics.AAC.html#a:336"><span class="id" title="variable">a</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.return_prd"><span class="id" title="definition">return_prd</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.run_list"><span class="id" title="definition">run_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_prd_spec"><span class="id" title="lemma">is_prd_spec</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.z2'" class="idref" href="#Internal.z2'"><span class="id" title="lemma">z2'</span></a> : <span class="id" title="keyword">forall</span>  <a id="u:337" class="idref" href="#u:337"><span class="id" title="binder">u</span></a>  <a id="x:338" class="idref" href="#x:338"><span class="id" title="binder">x</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_unit"><span class="id" title="inductive">compat_prd_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:338"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_list"><span class="id" title="definition">run_list</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_prd"><span class="id" title="definition">add_to_prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit"><span class="id" title="variable">is_unit</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:337"><span class="id" title="variable">u</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:338"><span class="id" title="variable">x</span></a>))) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="AAC_tactics.AAC.html#Internal.value"><span class="id" title="projection">Bin.value</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.s.e_bin"><span class="id" title="variable">e_bin</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:337"><span class="id" title="variable">u</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.i"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_list"><span class="id" title="definition">run_list</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:338"><span class="id" title="variable">x</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">x</span> <span class="id" title="var">Hix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.add_to_prd"><span class="id" title="definition">add_to_prd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_prd_spec"><span class="id" title="lemma">is_prd_spec</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.z0'"><span class="id" title="lemma">z0'</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_prd_app"><span class="id" title="lemma">eval_prd_app</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness.is_unit_prd_Unit"><span class="id" title="variable">is_unit_prd_Unit</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#law_neutral_left"><span class="id" title="method">law_neutral_left</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.z0'"><span class="id" title="lemma">z0'</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_prd_app"><span class="id" title="lemma">eval_prd_app</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.prd_correctness"><span class="id" title="section">prd_correctness</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.eval_norm_lists" class="idref" href="#Internal.eval_norm_lists"><span class="id" title="lemma">eval_norm_lists</span></a> <a id="i:339" class="idref" href="#i:339"><span class="id" title="binder">i</span></a> (<a id="Hnorm:341" class="idref" href="#Hnorm:341"><span class="id" title="binder">Hnorm</span></a>: <span class="id" title="keyword">forall</span> <a id="u:340" class="idref" href="#u:340"><span class="id" title="binder">u</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:340"><span class="id" title="variable">u</span></a>) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:340"><span class="id" title="variable">u</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="h:342" class="idref" href="#h:342"><span class="id" title="binder">h</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:339"><span class="id" title="variable">i</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_lists"><span class="id" title="definition">norm_lists</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:339"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:342"><span class="id" title="variable">h</span></a>)) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:339"><span class="id" title="variable">i</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:342"><span class="id" title="variable">h</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.norm_lists"><span class="id" title="definition">norm_lists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> :  <span class="id" title="keyword">forall</span> <a id="h:343" class="idref" href="#h:343"><span class="id" title="binder"><span id="h:344" class="id">h</span></span></a> : <a class="idref" href="AAC_tactics.Utils.html#nelist"><span class="id" title="inductive">nelist</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.run_list"><span class="id" title="definition">run_list</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_lists_"><span class="id" title="definition">norm_lists_</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <span class="id" title="var">i</span>) <a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:343"><span class="id" title="variable">h</span></a>))) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.prd"><span class="id" title="constructor">prd</span></a> <span class="id" title="var">i</span> <a class="idref" href="AAC_tactics.AAC.html#h:343"><span class="id" title="variable">h</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_unit"><span class="id" title="inductive">compat_prd_unit</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <span class="id" title="var">i</span>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm_lists_"><span class="id" title="definition">norm_lists_</span></a> <span class="id" title="var">i</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of"><span class="id" title="definition">is_unit_of</span></a> <span class="id" title="var">i</span>) <a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#h:343"><span class="id" title="variable">h</span></a>)). {   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> | <span class="id" title="var">a</span> <span class="id" title="var">h</span> [<span class="id" title="var">IHh</span> <span class="id" title="var">IHh'</span>]]; <span class="id" title="tactic">simpl</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.norm_lists_"><span class="id" title="definition">norm_lists_</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.z1'"><span class="id" title="lemma">z1'</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnorm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_unit_return"><span class="id" title="lemma">compat_prd_unit_return</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.z2'"><span class="id" title="lemma">z2'</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHh</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_prd_cons"><span class="id" title="lemma">eval_prd_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hnorm</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.is_unit_of_Unit"><span class="id" title="lemma">is_unit_of_Unit</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.compat_prd_unit_add"><span class="id" title="lemma">compat_prd_unit_add</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Correctness of the normalisation function 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Internal.eval_norm" class="idref" href="#Internal.eval_norm"><span class="id" title="definition">eval_norm</span></a> <a id="u:345" class="idref" href="#u:345"><span class="id" title="binder">u</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:345"><span class="id" title="variable">u</span></a>) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:345"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a id="Internal.eval_norm_aux" class="idref" href="#Internal.eval_norm_aux"><span class="id" title="definition">eval_norm_aux</span></a> <a id="i:346" class="idref" href="#i:346"><span class="id" title="binder">i</span></a> <a id="l:347" class="idref" href="#l:347"><span class="id" title="binder">l</span></a> : <span class="id" title="keyword">forall</span> (<a id="f:348" class="idref" href="#f:348"><span class="id" title="binder">f</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.type_of"><span class="id" title="definition">Sym.type_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:346"><span class="id" title="variable">i</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (@<a class="idref" href="AAC_tactics.AAC.html#Internal.rel_of"><span class="id" title="definition">Sym.rel_of</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#i:346"><span class="id" title="variable">i</span></a>) <a class="idref" href="AAC_tactics.AAC.html#f:348"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_aux"><span class="id" title="definition">eval_aux</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.vnorm"><span class="id" title="definition">vnorm</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:347"><span class="id" title="variable">l</span></a>) <a class="idref" href="AAC_tactics.AAC.html#f:348"><span class="id" title="variable">f</span></a> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_aux"><span class="id" title="definition">eval_aux</span></a> <a class="idref" href="AAC_tactics.AAC.html#l:347"><span class="id" title="variable">l</span></a> <a class="idref" href="AAC_tactics.AAC.html#f:348"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">u</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">p</span> <span class="id" title="var">m</span> | <span class="id" title="var">p</span> <span class="id" title="var">l</span> | ? | ?]; <span class="id" title="tactic">simpl</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">case_eq</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_commutative"><span class="id" title="definition">is_commutative</span></a> <span class="id" title="var">p</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.is_idempotent"><span class="id" title="definition">is_idempotent</span></a> <span class="id" title="var">p</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.sum'_sum"><span class="id" title="lemma">sum'_sum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_reduce_msets"><span class="id" title="lemma">eval_reduce_msets</span></a>. 2: <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_norm_msets"><span class="id" title="lemma">eval_norm_msets</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.sum'_sum"><span class="id" title="lemma">sum'_sum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_norm_msets"><span class="id" title="lemma">eval_norm_msets</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.prd'_prd"><span class="id" title="lemma">prd'_prd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_norm_lists"><span class="id" title="lemma">eval_norm_lists</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">eval_norm_aux</span>, <a class="idref" href="AAC_tactics.AAC.html#Internal.morph"><span class="id" title="projection">Sym.morph</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eval_norm</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>, <span class="id" title="var">Hf</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Corollaries, for goal normalisation or decision 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.normalise" class="idref" href="#Internal.normalise"><span class="id" title="lemma">normalise</span></a> : <span class="id" title="keyword">forall</span> (<a id="u:351" class="idref" href="#u:351"><span class="id" title="binder">u</span></a> <a id="v:352" class="idref" href="#v:352"><span class="id" title="binder">v</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>), <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:351"><span class="id" title="variable">u</span></a>) <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:352"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:351"><span class="id" title="variable">u</span></a> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:352"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_norm"><span class="id" title="definition">eval_norm</span></a>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.compare_reflect_eq" class="idref" href="#Internal.compare_reflect_eq"><span class="id" title="lemma">compare_reflect_eq</span></a>: <span class="id" title="keyword">forall</span> <a id="u:353" class="idref" href="#u:353"><span class="id" title="binder">u</span></a> <a id="v:354" class="idref" href="#v:354"><span class="id" title="binder">v</span></a>, <a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:353"><span class="id" title="variable">u</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:354"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:353"><span class="id" title="variable">u</span></a> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:354"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="AAC_tactics.AAC.html#Internal.tcompare_weak_spec"><span class="id" title="definition">tcompare_weak_spec</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.decide" class="idref" href="#Internal.decide"><span class="id" title="lemma">decide</span></a>: <span class="id" title="keyword">forall</span> (<a id="u:355" class="idref" href="#u:355"><span class="id" title="binder">u</span></a> <a id="v:356" class="idref" href="#v:356"><span class="id" title="binder">v</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>), <a class="idref" href="AAC_tactics.AAC.html#Internal.compare"><span class="id" title="definition">compare</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:355"><span class="id" title="variable">u</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:356"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:355"><span class="id" title="variable">u</span></a> <a class="idref" href="AAC_tactics.AAC.html#8898ce7e63580173f57e764064a2722e"><span class="id" title="notation">==</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:356"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.normalise"><span class="id" title="lemma">normalise</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.compare_reflect_eq"><span class="id" title="lemma">compare_reflect_eq</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.decide</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Internal.lift_normalise" class="idref" href="#Internal.lift_normalise"><span class="id" title="lemma">lift_normalise</span></a> {<a id="S:357" class="idref" href="#S:357"><span class="id" title="binder">S</span></a>} {<a id="H:358" class="idref" href="#H:358"><span class="id" title="binder">H</span></a> : <a class="idref" href="AAC_tactics.AAC.html#AAC_lift"><span class="id" title="class">AAC_lift</span></a> <a class="idref" href="AAC_tactics.AAC.html#S:357"><span class="id" title="variable">S</span></a> <a class="idref" href="AAC_tactics.AAC.html#Internal.s.R"><span class="id" title="variable">R</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="u:359" class="idref" href="#u:359"><span class="id" title="binder">u</span></a> <a id="v:360" class="idref" href="#v:360"><span class="id" title="binder">v</span></a>: <a class="idref" href="AAC_tactics.AAC.html#Internal.T"><span class="id" title="inductive">T</span></a>), <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> <a id="x:361" class="idref" href="#x:361"><span class="id" title="binder">x</span></a> := <a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:359"><span class="id" title="variable">u</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <a id="y:362" class="idref" href="#y:362"><span class="id" title="binder">y</span></a> := <a class="idref" href="AAC_tactics.AAC.html#Internal.norm"><span class="id" title="definition">norm</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:360"><span class="id" title="variable">v</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="AAC_tactics.AAC.html#S:357"><span class="id" title="variable">S</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:361"><span class="id" title="variable">x</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:362"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#S:357"><span class="id" title="variable">S</span></a> (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#u:359"><span class="id" title="variable">u</span></a>) (<a class="idref" href="AAC_tactics.AAC.html#Internal.eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="AAC_tactics.AAC.html#v:360"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="AAC_tactics.AAC.html#Internal.eval_norm"><span class="id" title="definition">eval_norm</span></a>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">lift_normalise</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.lift_normalise</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal.s"><span class="id" title="section">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#Internal"><span class="id" title="module">Internal</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">internal_normalize</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">y</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>; <span class="id" title="keyword">vm_compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>; <span class="id" title="keyword">vm_compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">compute</span> [<a class="idref" href="AAC_tactics.AAC.html#eval"><span class="id" title="definition">Internal.eval</span></a> <a class="idref" href="AAC_tactics.Utils.html#fold_map"><span class="id" title="definition">Utils.fold_map</span></a> <a class="idref" href="AAC_tactics.AAC.html#copy"><span class="id" title="definition">Internal.copy</span></a> <span class="id" title="definition">Prect</span>]; <span class="id" title="tactic">simpl</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab17"></a><h2 class="section">Lemmas for performing transitivity steps given an AAC_lift instance</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="t" class="idref" href="#t"><span class="id" title="section">t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="AAC_tactics.AAC.html#AAC_lift"><span class="id" title="class">AAC_lift</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lift_transitivity_left" class="idref" href="#lift_transitivity_left"><span class="id" title="lemma">lift_transitivity_left</span></a>  (<a id="y:367" class="idref" href="#y:367"><span class="id" title="binder">y</span></a> <a id="x:368" class="idref" href="#x:368"><span class="id" title="binder">x</span></a> <a id="z:369" class="idref" href="#z:369"><span class="id" title="binder">z</span></a> : <a class="idref" href="AAC_tactics.AAC.html#t.X"><span class="id" title="variable">X</span></a>): <a class="idref" href="AAC_tactics.AAC.html#t.E"><span class="id" title="variable">E</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:368"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:367"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:367"><span class="id" title="variable">y</span></a> <a class="idref" href="AAC_tactics.AAC.html#z:369"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:368"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#z:369"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="AAC_tactics.AAC.html#t.H"><span class="id" title="variable">H</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hequiv</span> <span class="id" title="var">Hproper</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">G</span>;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">G</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lift_transitivity_right" class="idref" href="#lift_transitivity_right"><span class="id" title="lemma">lift_transitivity_right</span></a> (<a id="y:370" class="idref" href="#y:370"><span class="id" title="binder">y</span></a> <a id="x:371" class="idref" href="#x:371"><span class="id" title="binder">x</span></a> <a id="z:372" class="idref" href="#z:372"><span class="id" title="binder">z</span></a> : <a class="idref" href="AAC_tactics.AAC.html#t.X"><span class="id" title="variable">X</span></a>): <a class="idref" href="AAC_tactics.AAC.html#t.E"><span class="id" title="variable">E</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:370"><span class="id" title="variable">y</span></a> <a class="idref" href="AAC_tactics.AAC.html#z:372"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:371"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:370"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:371"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#z:372"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="AAC_tactics.AAC.html#t.H"><span class="id" title="variable">H</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hequiv</span> <span class="id" title="var">Hproper</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">G</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">G</span>. <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lift_reflexivity" class="idref" href="#lift_reflexivity"><span class="id" title="lemma">lift_reflexivity</span></a> {<a id="HR:373" class="idref" href="#HR:373"><span class="id" title="binder">HR</span></a> :<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="AAC_tactics.AAC.html#t.R"><span class="id" title="variable">R</span></a>}: <span class="id" title="keyword">forall</span> <a id="x:374" class="idref" href="#x:374"><span class="id" title="binder">x</span></a> <a id="y:375" class="idref" href="#y:375"><span class="id" title="binder">y</span></a>, <a class="idref" href="AAC_tactics.AAC.html#t.E"><span class="id" title="variable">E</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:374"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:375"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#t.R"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#x:374"><span class="id" title="variable">x</span></a> <a class="idref" href="AAC_tactics.AAC.html#y:375"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="AAC_tactics.AAC.html#t.H"><span class="id" title="variable">H</span></a>. <span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">G</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">G</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">lift_transitivity_left</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.lift_transitivity_left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">lift_transitivity_right</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.lift_transitivity_right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Register</span> <span class="id" title="var">lift_reflexivity</span> <span class="id" title="keyword">as</span> <span class="id" title="var">aac_tactics.internal.lift_reflexivity</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="AAC_tactics.AAC.html#t"><span class="id" title="section">t</span></a>.<br/>

<br/>
<span class="id" title="var">Declare</span> <span class="id" title="var">ML</span> <span class="id" title="keyword">Module</span> "coq-aac-tactics.plugin".<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="transitivity4" class="idref" href="#transitivity4"><span class="id" title="lemma">transitivity4</span></a> {<a id="A:376" class="idref" href="#A:376"><span class="id" title="binder">A</span></a> <a id="R:377" class="idref" href="#R:377"><span class="id" title="binder">R</span></a>} {<a id="H:378" class="idref" href="#H:378"><span class="id" title="binder">H</span></a>: @<a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="AAC_tactics.AAC.html#A:376"><span class="id" title="variable">A</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:377"><span class="id" title="variable">R</span></a>} <a id="a:379" class="idref" href="#a:379"><span class="id" title="binder">a</span></a> <a id="b:380" class="idref" href="#b:380"><span class="id" title="binder">b</span></a> <a id="a':381" class="idref" href="#a':381"><span class="id" title="binder">a'</span></a> <a id="b':382" class="idref" href="#b':382"><span class="id" title="binder">b'</span></a>: <a class="idref" href="AAC_tactics.AAC.html#R:377"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#a:379"><span class="id" title="variable">a</span></a> <a class="idref" href="AAC_tactics.AAC.html#a':381"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:377"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#b:380"><span class="id" title="variable">b</span></a> <a class="idref" href="AAC_tactics.AAC.html#b':382"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:377"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#a:379"><span class="id" title="variable">a</span></a> <a class="idref" href="AAC_tactics.AAC.html#b:380"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.1+alpha/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="AAC_tactics.AAC.html#R:377"><span class="id" title="variable">R</span></a> <a class="idref" href="AAC_tactics.AAC.html#a':381"><span class="id" title="variable">a'</span></a> <a class="idref" href="AAC_tactics.AAC.html#b':382"><span class="id" title="variable">b'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> -&gt; -&gt;. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "aac_normalise" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="AAC_tactics.AAC.html#transitivity4"><span class="id" title="lemma">transitivity4</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [| <span class="id" title="var">aac_normalise</span>; <span class="id" title="tactic">reflexivity</span> | <span class="id" title="var">aac_normalise</span>; <span class="id" title="tactic">reflexivity</span>].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">aac_normalise_all</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">aac_normalise</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">aac_normalise</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "aac_normalise" "in" "*" := <span class="id" title="var">aac_normalise_all</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
